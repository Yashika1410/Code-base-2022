{"version":3,"file":"index.deno.mjs","sources":["../src/lib/shift-nodes-before-parent.js","../src/lib/cleanup-parent.js","../../../node_modules/postcss-selector-parser/dist/util/unesc.js","../../../node_modules/postcss-selector-parser/dist/util/getProp.js","../../../node_modules/postcss-selector-parser/dist/util/ensureObject.js","../../../node_modules/postcss-selector-parser/dist/util/stripComments.js","../../../node_modules/postcss-selector-parser/dist/util/index.js","../../../node_modules/postcss-selector-parser/dist/selectors/node.js","../../../node_modules/postcss-selector-parser/dist/selectors/types.js","../../../node_modules/postcss-selector-parser/dist/selectors/container.js","../../../node_modules/postcss-selector-parser/dist/selectors/root.js","../../../node_modules/postcss-selector-parser/dist/selectors/selector.js","../../../node_modules/cssesc/cssesc.js","../../../node_modules/postcss-selector-parser/dist/selectors/className.js","../../../node_modules/postcss-selector-parser/dist/selectors/comment.js","../../../node_modules/postcss-selector-parser/dist/selectors/id.js","../../../node_modules/postcss-selector-parser/dist/selectors/namespace.js","../../../node_modules/postcss-selector-parser/dist/selectors/tag.js","../../../node_modules/postcss-selector-parser/dist/selectors/string.js","../../../node_modules/postcss-selector-parser/dist/selectors/pseudo.js","../../../node_modules/util-deprecate/browser.js","../../../node_modules/postcss-selector-parser/dist/selectors/attribute.js","../../../node_modules/postcss-selector-parser/dist/selectors/universal.js","../../../node_modules/postcss-selector-parser/dist/selectors/combinator.js","../../../node_modules/postcss-selector-parser/dist/selectors/nesting.js","../../../node_modules/postcss-selector-parser/dist/sortAscending.js","../../../node_modules/postcss-selector-parser/dist/tokenTypes.js","../../../node_modules/postcss-selector-parser/dist/tokenize.js","../../../node_modules/postcss-selector-parser/dist/parser.js","../../../node_modules/postcss-selector-parser/dist/processor.js","../../../node_modules/postcss-selector-parser/dist/selectors/constructors.js","../../../node_modules/postcss-selector-parser/dist/selectors/guards.js","../../../node_modules/postcss-selector-parser/dist/selectors/index.js","../../../node_modules/postcss-selector-parser/dist/index.js","../src/lib/merge-selectors.js","../src/lib/rule-within-rule.js","../src/lib/list.js","../src/lib/nest-rule-within-rule.js","../src/lib/valid-atrules.js","../src/lib/atrule-within-rule.js","../src/lib/merge-params.js","../src/lib/atrule-within-atrule.js","../src/lib/walk.js","../src/index.js"],"sourcesContent":["export default function shiftNodesBeforeParent(node) {\n\tconst parent = node.parent;\n\tconst index = parent.index(node);\n\n\t// conditionally move previous siblings into a clone of the parent\n\tif (index) {\n\t\tparent.cloneBefore().removeAll().append(parent.nodes.slice(0, index));\n\t}\n\n\t// move the current node before the parent (and after the conditional clone)\n\tparent.before(node);\n\n\treturn parent;\n}\n","export default function cleanupParent(parent) {\n\tif (!parent.nodes.length) {\n\t\tparent.remove();\n\t}\n}\n","\"use strict\";\n\nexports.__esModule = true;\nexports[\"default\"] = unesc;\n\n// Many thanks for this post which made this migration much easier.\n// https://mathiasbynens.be/notes/css-escapes\n\n/**\n * \n * @param {string} str \n * @returns {[string, number]|undefined}\n */\nfunction gobbleHex(str) {\n  var lower = str.toLowerCase();\n  var hex = '';\n  var spaceTerminated = false;\n\n  for (var i = 0; i < 6 && lower[i] !== undefined; i++) {\n    var code = lower.charCodeAt(i); // check to see if we are dealing with a valid hex char [a-f|0-9]\n\n    var valid = code >= 97 && code <= 102 || code >= 48 && code <= 57; // https://drafts.csswg.org/css-syntax/#consume-escaped-code-point\n\n    spaceTerminated = code === 32;\n\n    if (!valid) {\n      break;\n    }\n\n    hex += lower[i];\n  }\n\n  if (hex.length === 0) {\n    return undefined;\n  }\n\n  var codePoint = parseInt(hex, 16);\n  var isSurrogate = codePoint >= 0xD800 && codePoint <= 0xDFFF; // Add special case for\n  // \"If this number is zero, or is for a surrogate, or is greater than the maximum allowed code point\"\n  // https://drafts.csswg.org/css-syntax/#maximum-allowed-code-point\n\n  if (isSurrogate || codePoint === 0x0000 || codePoint > 0x10FFFF) {\n    return [\"\\uFFFD\", hex.length + (spaceTerminated ? 1 : 0)];\n  }\n\n  return [String.fromCodePoint(codePoint), hex.length + (spaceTerminated ? 1 : 0)];\n}\n\nvar CONTAINS_ESCAPE = /\\\\/;\n\nfunction unesc(str) {\n  var needToProcess = CONTAINS_ESCAPE.test(str);\n\n  if (!needToProcess) {\n    return str;\n  }\n\n  var ret = \"\";\n\n  for (var i = 0; i < str.length; i++) {\n    if (str[i] === \"\\\\\") {\n      var gobbled = gobbleHex(str.slice(i + 1, i + 7));\n\n      if (gobbled !== undefined) {\n        ret += gobbled[0];\n        i += gobbled[1];\n        continue;\n      } // Retain a pair of \\\\ if double escaped `\\\\\\\\`\n      // https://github.com/postcss/postcss-selector-parser/commit/268c9a7656fb53f543dc620aa5b73a30ec3ff20e\n\n\n      if (str[i + 1] === \"\\\\\") {\n        ret += \"\\\\\";\n        i++;\n        continue;\n      } // if \\\\ is at the end of the string retain it\n      // https://github.com/postcss/postcss-selector-parser/commit/01a6b346e3612ce1ab20219acc26abdc259ccefb\n\n\n      if (str.length === i + 1) {\n        ret += str[i];\n      }\n\n      continue;\n    }\n\n    ret += str[i];\n  }\n\n  return ret;\n}\n\nmodule.exports = exports.default;","\"use strict\";\n\nexports.__esModule = true;\nexports[\"default\"] = getProp;\n\nfunction getProp(obj) {\n  for (var _len = arguments.length, props = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    props[_key - 1] = arguments[_key];\n  }\n\n  while (props.length > 0) {\n    var prop = props.shift();\n\n    if (!obj[prop]) {\n      return undefined;\n    }\n\n    obj = obj[prop];\n  }\n\n  return obj;\n}\n\nmodule.exports = exports.default;","\"use strict\";\n\nexports.__esModule = true;\nexports[\"default\"] = ensureObject;\n\nfunction ensureObject(obj) {\n  for (var _len = arguments.length, props = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    props[_key - 1] = arguments[_key];\n  }\n\n  while (props.length > 0) {\n    var prop = props.shift();\n\n    if (!obj[prop]) {\n      obj[prop] = {};\n    }\n\n    obj = obj[prop];\n  }\n}\n\nmodule.exports = exports.default;","\"use strict\";\n\nexports.__esModule = true;\nexports[\"default\"] = stripComments;\n\nfunction stripComments(str) {\n  var s = \"\";\n  var commentStart = str.indexOf(\"/*\");\n  var lastEnd = 0;\n\n  while (commentStart >= 0) {\n    s = s + str.slice(lastEnd, commentStart);\n    var commentEnd = str.indexOf(\"*/\", commentStart + 2);\n\n    if (commentEnd < 0) {\n      return s;\n    }\n\n    lastEnd = commentEnd + 2;\n    commentStart = str.indexOf(\"/*\", lastEnd);\n  }\n\n  s = s + str.slice(lastEnd);\n  return s;\n}\n\nmodule.exports = exports.default;","\"use strict\";\n\nexports.__esModule = true;\nexports.stripComments = exports.ensureObject = exports.getProp = exports.unesc = void 0;\n\nvar _unesc = _interopRequireDefault(require(\"./unesc\"));\n\nexports.unesc = _unesc[\"default\"];\n\nvar _getProp = _interopRequireDefault(require(\"./getProp\"));\n\nexports.getProp = _getProp[\"default\"];\n\nvar _ensureObject = _interopRequireDefault(require(\"./ensureObject\"));\n\nexports.ensureObject = _ensureObject[\"default\"];\n\nvar _stripComments = _interopRequireDefault(require(\"./stripComments\"));\n\nexports.stripComments = _stripComments[\"default\"];\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }","\"use strict\";\n\nexports.__esModule = true;\nexports[\"default\"] = void 0;\n\nvar _util = require(\"../util\");\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar cloneNode = function cloneNode(obj, parent) {\n  if (typeof obj !== 'object' || obj === null) {\n    return obj;\n  }\n\n  var cloned = new obj.constructor();\n\n  for (var i in obj) {\n    if (!obj.hasOwnProperty(i)) {\n      continue;\n    }\n\n    var value = obj[i];\n    var type = typeof value;\n\n    if (i === 'parent' && type === 'object') {\n      if (parent) {\n        cloned[i] = parent;\n      }\n    } else if (value instanceof Array) {\n      cloned[i] = value.map(function (j) {\n        return cloneNode(j, cloned);\n      });\n    } else {\n      cloned[i] = cloneNode(value, cloned);\n    }\n  }\n\n  return cloned;\n};\n\nvar Node = /*#__PURE__*/function () {\n  function Node(opts) {\n    if (opts === void 0) {\n      opts = {};\n    }\n\n    Object.assign(this, opts);\n    this.spaces = this.spaces || {};\n    this.spaces.before = this.spaces.before || '';\n    this.spaces.after = this.spaces.after || '';\n  }\n\n  var _proto = Node.prototype;\n\n  _proto.remove = function remove() {\n    if (this.parent) {\n      this.parent.removeChild(this);\n    }\n\n    this.parent = undefined;\n    return this;\n  };\n\n  _proto.replaceWith = function replaceWith() {\n    if (this.parent) {\n      for (var index in arguments) {\n        this.parent.insertBefore(this, arguments[index]);\n      }\n\n      this.remove();\n    }\n\n    return this;\n  };\n\n  _proto.next = function next() {\n    return this.parent.at(this.parent.index(this) + 1);\n  };\n\n  _proto.prev = function prev() {\n    return this.parent.at(this.parent.index(this) - 1);\n  };\n\n  _proto.clone = function clone(overrides) {\n    if (overrides === void 0) {\n      overrides = {};\n    }\n\n    var cloned = cloneNode(this);\n\n    for (var name in overrides) {\n      cloned[name] = overrides[name];\n    }\n\n    return cloned;\n  }\n  /**\n   * Some non-standard syntax doesn't follow normal escaping rules for css.\n   * This allows non standard syntax to be appended to an existing property\n   * by specifying the escaped value. By specifying the escaped value,\n   * illegal characters are allowed to be directly inserted into css output.\n   * @param {string} name the property to set\n   * @param {any} value the unescaped value of the property\n   * @param {string} valueEscaped optional. the escaped value of the property.\n   */\n  ;\n\n  _proto.appendToPropertyAndEscape = function appendToPropertyAndEscape(name, value, valueEscaped) {\n    if (!this.raws) {\n      this.raws = {};\n    }\n\n    var originalValue = this[name];\n    var originalEscaped = this.raws[name];\n    this[name] = originalValue + value; // this may trigger a setter that updates raws, so it has to be set first.\n\n    if (originalEscaped || valueEscaped !== value) {\n      this.raws[name] = (originalEscaped || originalValue) + valueEscaped;\n    } else {\n      delete this.raws[name]; // delete any escaped value that was created by the setter.\n    }\n  }\n  /**\n   * Some non-standard syntax doesn't follow normal escaping rules for css.\n   * This allows the escaped value to be specified directly, allowing illegal\n   * characters to be directly inserted into css output.\n   * @param {string} name the property to set\n   * @param {any} value the unescaped value of the property\n   * @param {string} valueEscaped the escaped value of the property.\n   */\n  ;\n\n  _proto.setPropertyAndEscape = function setPropertyAndEscape(name, value, valueEscaped) {\n    if (!this.raws) {\n      this.raws = {};\n    }\n\n    this[name] = value; // this may trigger a setter that updates raws, so it has to be set first.\n\n    this.raws[name] = valueEscaped;\n  }\n  /**\n   * When you want a value to passed through to CSS directly. This method\n   * deletes the corresponding raw value causing the stringifier to fallback\n   * to the unescaped value.\n   * @param {string} name the property to set.\n   * @param {any} value The value that is both escaped and unescaped.\n   */\n  ;\n\n  _proto.setPropertyWithoutEscape = function setPropertyWithoutEscape(name, value) {\n    this[name] = value; // this may trigger a setter that updates raws, so it has to be set first.\n\n    if (this.raws) {\n      delete this.raws[name];\n    }\n  }\n  /**\n   *\n   * @param {number} line The number (starting with 1)\n   * @param {number} column The column number (starting with 1)\n   */\n  ;\n\n  _proto.isAtPosition = function isAtPosition(line, column) {\n    if (this.source && this.source.start && this.source.end) {\n      if (this.source.start.line > line) {\n        return false;\n      }\n\n      if (this.source.end.line < line) {\n        return false;\n      }\n\n      if (this.source.start.line === line && this.source.start.column > column) {\n        return false;\n      }\n\n      if (this.source.end.line === line && this.source.end.column < column) {\n        return false;\n      }\n\n      return true;\n    }\n\n    return undefined;\n  };\n\n  _proto.stringifyProperty = function stringifyProperty(name) {\n    return this.raws && this.raws[name] || this[name];\n  };\n\n  _proto.valueToString = function valueToString() {\n    return String(this.stringifyProperty(\"value\"));\n  };\n\n  _proto.toString = function toString() {\n    return [this.rawSpaceBefore, this.valueToString(), this.rawSpaceAfter].join('');\n  };\n\n  _createClass(Node, [{\n    key: \"rawSpaceBefore\",\n    get: function get() {\n      var rawSpace = this.raws && this.raws.spaces && this.raws.spaces.before;\n\n      if (rawSpace === undefined) {\n        rawSpace = this.spaces && this.spaces.before;\n      }\n\n      return rawSpace || \"\";\n    },\n    set: function set(raw) {\n      (0, _util.ensureObject)(this, \"raws\", \"spaces\");\n      this.raws.spaces.before = raw;\n    }\n  }, {\n    key: \"rawSpaceAfter\",\n    get: function get() {\n      var rawSpace = this.raws && this.raws.spaces && this.raws.spaces.after;\n\n      if (rawSpace === undefined) {\n        rawSpace = this.spaces.after;\n      }\n\n      return rawSpace || \"\";\n    },\n    set: function set(raw) {\n      (0, _util.ensureObject)(this, \"raws\", \"spaces\");\n      this.raws.spaces.after = raw;\n    }\n  }]);\n\n  return Node;\n}();\n\nexports[\"default\"] = Node;\nmodule.exports = exports.default;","\"use strict\";\n\nexports.__esModule = true;\nexports.UNIVERSAL = exports.ATTRIBUTE = exports.CLASS = exports.COMBINATOR = exports.COMMENT = exports.ID = exports.NESTING = exports.PSEUDO = exports.ROOT = exports.SELECTOR = exports.STRING = exports.TAG = void 0;\nvar TAG = 'tag';\nexports.TAG = TAG;\nvar STRING = 'string';\nexports.STRING = STRING;\nvar SELECTOR = 'selector';\nexports.SELECTOR = SELECTOR;\nvar ROOT = 'root';\nexports.ROOT = ROOT;\nvar PSEUDO = 'pseudo';\nexports.PSEUDO = PSEUDO;\nvar NESTING = 'nesting';\nexports.NESTING = NESTING;\nvar ID = 'id';\nexports.ID = ID;\nvar COMMENT = 'comment';\nexports.COMMENT = COMMENT;\nvar COMBINATOR = 'combinator';\nexports.COMBINATOR = COMBINATOR;\nvar CLASS = 'class';\nexports.CLASS = CLASS;\nvar ATTRIBUTE = 'attribute';\nexports.ATTRIBUTE = ATTRIBUTE;\nvar UNIVERSAL = 'universal';\nexports.UNIVERSAL = UNIVERSAL;","\"use strict\";\n\nexports.__esModule = true;\nexports[\"default\"] = void 0;\n\nvar _node = _interopRequireDefault(require(\"./node\"));\n\nvar types = _interopRequireWildcard(require(\"./types\"));\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _createForOfIteratorHelperLoose(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; return function () { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } it = o[Symbol.iterator](); return it.next.bind(it); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar Container = /*#__PURE__*/function (_Node) {\n  _inheritsLoose(Container, _Node);\n\n  function Container(opts) {\n    var _this;\n\n    _this = _Node.call(this, opts) || this;\n\n    if (!_this.nodes) {\n      _this.nodes = [];\n    }\n\n    return _this;\n  }\n\n  var _proto = Container.prototype;\n\n  _proto.append = function append(selector) {\n    selector.parent = this;\n    this.nodes.push(selector);\n    return this;\n  };\n\n  _proto.prepend = function prepend(selector) {\n    selector.parent = this;\n    this.nodes.unshift(selector);\n    return this;\n  };\n\n  _proto.at = function at(index) {\n    return this.nodes[index];\n  };\n\n  _proto.index = function index(child) {\n    if (typeof child === 'number') {\n      return child;\n    }\n\n    return this.nodes.indexOf(child);\n  };\n\n  _proto.removeChild = function removeChild(child) {\n    child = this.index(child);\n    this.at(child).parent = undefined;\n    this.nodes.splice(child, 1);\n    var index;\n\n    for (var id in this.indexes) {\n      index = this.indexes[id];\n\n      if (index >= child) {\n        this.indexes[id] = index - 1;\n      }\n    }\n\n    return this;\n  };\n\n  _proto.removeAll = function removeAll() {\n    for (var _iterator = _createForOfIteratorHelperLoose(this.nodes), _step; !(_step = _iterator()).done;) {\n      var node = _step.value;\n      node.parent = undefined;\n    }\n\n    this.nodes = [];\n    return this;\n  };\n\n  _proto.empty = function empty() {\n    return this.removeAll();\n  };\n\n  _proto.insertAfter = function insertAfter(oldNode, newNode) {\n    newNode.parent = this;\n    var oldIndex = this.index(oldNode);\n    this.nodes.splice(oldIndex + 1, 0, newNode);\n    newNode.parent = this;\n    var index;\n\n    for (var id in this.indexes) {\n      index = this.indexes[id];\n\n      if (oldIndex <= index) {\n        this.indexes[id] = index + 1;\n      }\n    }\n\n    return this;\n  };\n\n  _proto.insertBefore = function insertBefore(oldNode, newNode) {\n    newNode.parent = this;\n    var oldIndex = this.index(oldNode);\n    this.nodes.splice(oldIndex, 0, newNode);\n    newNode.parent = this;\n    var index;\n\n    for (var id in this.indexes) {\n      index = this.indexes[id];\n\n      if (index <= oldIndex) {\n        this.indexes[id] = index + 1;\n      }\n    }\n\n    return this;\n  };\n\n  _proto._findChildAtPosition = function _findChildAtPosition(line, col) {\n    var found = undefined;\n    this.each(function (node) {\n      if (node.atPosition) {\n        var foundChild = node.atPosition(line, col);\n\n        if (foundChild) {\n          found = foundChild;\n          return false;\n        }\n      } else if (node.isAtPosition(line, col)) {\n        found = node;\n        return false;\n      }\n    });\n    return found;\n  }\n  /**\n   * Return the most specific node at the line and column number given.\n   * The source location is based on the original parsed location, locations aren't\n   * updated as selector nodes are mutated.\n   * \n   * Note that this location is relative to the location of the first character\n   * of the selector, and not the location of the selector in the overall document\n   * when used in conjunction with postcss.\n   *\n   * If not found, returns undefined.\n   * @param {number} line The line number of the node to find. (1-based index)\n   * @param {number} col  The column number of the node to find. (1-based index)\n   */\n  ;\n\n  _proto.atPosition = function atPosition(line, col) {\n    if (this.isAtPosition(line, col)) {\n      return this._findChildAtPosition(line, col) || this;\n    } else {\n      return undefined;\n    }\n  };\n\n  _proto._inferEndPosition = function _inferEndPosition() {\n    if (this.last && this.last.source && this.last.source.end) {\n      this.source = this.source || {};\n      this.source.end = this.source.end || {};\n      Object.assign(this.source.end, this.last.source.end);\n    }\n  };\n\n  _proto.each = function each(callback) {\n    if (!this.lastEach) {\n      this.lastEach = 0;\n    }\n\n    if (!this.indexes) {\n      this.indexes = {};\n    }\n\n    this.lastEach++;\n    var id = this.lastEach;\n    this.indexes[id] = 0;\n\n    if (!this.length) {\n      return undefined;\n    }\n\n    var index, result;\n\n    while (this.indexes[id] < this.length) {\n      index = this.indexes[id];\n      result = callback(this.at(index), index);\n\n      if (result === false) {\n        break;\n      }\n\n      this.indexes[id] += 1;\n    }\n\n    delete this.indexes[id];\n\n    if (result === false) {\n      return false;\n    }\n  };\n\n  _proto.walk = function walk(callback) {\n    return this.each(function (node, i) {\n      var result = callback(node, i);\n\n      if (result !== false && node.length) {\n        result = node.walk(callback);\n      }\n\n      if (result === false) {\n        return false;\n      }\n    });\n  };\n\n  _proto.walkAttributes = function walkAttributes(callback) {\n    var _this2 = this;\n\n    return this.walk(function (selector) {\n      if (selector.type === types.ATTRIBUTE) {\n        return callback.call(_this2, selector);\n      }\n    });\n  };\n\n  _proto.walkClasses = function walkClasses(callback) {\n    var _this3 = this;\n\n    return this.walk(function (selector) {\n      if (selector.type === types.CLASS) {\n        return callback.call(_this3, selector);\n      }\n    });\n  };\n\n  _proto.walkCombinators = function walkCombinators(callback) {\n    var _this4 = this;\n\n    return this.walk(function (selector) {\n      if (selector.type === types.COMBINATOR) {\n        return callback.call(_this4, selector);\n      }\n    });\n  };\n\n  _proto.walkComments = function walkComments(callback) {\n    var _this5 = this;\n\n    return this.walk(function (selector) {\n      if (selector.type === types.COMMENT) {\n        return callback.call(_this5, selector);\n      }\n    });\n  };\n\n  _proto.walkIds = function walkIds(callback) {\n    var _this6 = this;\n\n    return this.walk(function (selector) {\n      if (selector.type === types.ID) {\n        return callback.call(_this6, selector);\n      }\n    });\n  };\n\n  _proto.walkNesting = function walkNesting(callback) {\n    var _this7 = this;\n\n    return this.walk(function (selector) {\n      if (selector.type === types.NESTING) {\n        return callback.call(_this7, selector);\n      }\n    });\n  };\n\n  _proto.walkPseudos = function walkPseudos(callback) {\n    var _this8 = this;\n\n    return this.walk(function (selector) {\n      if (selector.type === types.PSEUDO) {\n        return callback.call(_this8, selector);\n      }\n    });\n  };\n\n  _proto.walkTags = function walkTags(callback) {\n    var _this9 = this;\n\n    return this.walk(function (selector) {\n      if (selector.type === types.TAG) {\n        return callback.call(_this9, selector);\n      }\n    });\n  };\n\n  _proto.walkUniversals = function walkUniversals(callback) {\n    var _this10 = this;\n\n    return this.walk(function (selector) {\n      if (selector.type === types.UNIVERSAL) {\n        return callback.call(_this10, selector);\n      }\n    });\n  };\n\n  _proto.split = function split(callback) {\n    var _this11 = this;\n\n    var current = [];\n    return this.reduce(function (memo, node, index) {\n      var split = callback.call(_this11, node);\n      current.push(node);\n\n      if (split) {\n        memo.push(current);\n        current = [];\n      } else if (index === _this11.length - 1) {\n        memo.push(current);\n      }\n\n      return memo;\n    }, []);\n  };\n\n  _proto.map = function map(callback) {\n    return this.nodes.map(callback);\n  };\n\n  _proto.reduce = function reduce(callback, memo) {\n    return this.nodes.reduce(callback, memo);\n  };\n\n  _proto.every = function every(callback) {\n    return this.nodes.every(callback);\n  };\n\n  _proto.some = function some(callback) {\n    return this.nodes.some(callback);\n  };\n\n  _proto.filter = function filter(callback) {\n    return this.nodes.filter(callback);\n  };\n\n  _proto.sort = function sort(callback) {\n    return this.nodes.sort(callback);\n  };\n\n  _proto.toString = function toString() {\n    return this.map(String).join('');\n  };\n\n  _createClass(Container, [{\n    key: \"first\",\n    get: function get() {\n      return this.at(0);\n    }\n  }, {\n    key: \"last\",\n    get: function get() {\n      return this.at(this.length - 1);\n    }\n  }, {\n    key: \"length\",\n    get: function get() {\n      return this.nodes.length;\n    }\n  }]);\n\n  return Container;\n}(_node[\"default\"]);\n\nexports[\"default\"] = Container;\nmodule.exports = exports.default;","\"use strict\";\n\nexports.__esModule = true;\nexports[\"default\"] = void 0;\n\nvar _container = _interopRequireDefault(require(\"./container\"));\n\nvar _types = require(\"./types\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar Root = /*#__PURE__*/function (_Container) {\n  _inheritsLoose(Root, _Container);\n\n  function Root(opts) {\n    var _this;\n\n    _this = _Container.call(this, opts) || this;\n    _this.type = _types.ROOT;\n    return _this;\n  }\n\n  var _proto = Root.prototype;\n\n  _proto.toString = function toString() {\n    var str = this.reduce(function (memo, selector) {\n      memo.push(String(selector));\n      return memo;\n    }, []).join(',');\n    return this.trailingComma ? str + ',' : str;\n  };\n\n  _proto.error = function error(message, options) {\n    if (this._error) {\n      return this._error(message, options);\n    } else {\n      return new Error(message);\n    }\n  };\n\n  _createClass(Root, [{\n    key: \"errorGenerator\",\n    set: function set(handler) {\n      this._error = handler;\n    }\n  }]);\n\n  return Root;\n}(_container[\"default\"]);\n\nexports[\"default\"] = Root;\nmodule.exports = exports.default;","\"use strict\";\n\nexports.__esModule = true;\nexports[\"default\"] = void 0;\n\nvar _container = _interopRequireDefault(require(\"./container\"));\n\nvar _types = require(\"./types\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar Selector = /*#__PURE__*/function (_Container) {\n  _inheritsLoose(Selector, _Container);\n\n  function Selector(opts) {\n    var _this;\n\n    _this = _Container.call(this, opts) || this;\n    _this.type = _types.SELECTOR;\n    return _this;\n  }\n\n  return Selector;\n}(_container[\"default\"]);\n\nexports[\"default\"] = Selector;\nmodule.exports = exports.default;","/*! https://mths.be/cssesc v3.0.0 by @mathias */\n'use strict';\n\nvar object = {};\nvar hasOwnProperty = object.hasOwnProperty;\nvar merge = function merge(options, defaults) {\n\tif (!options) {\n\t\treturn defaults;\n\t}\n\tvar result = {};\n\tfor (var key in defaults) {\n\t\t// `if (defaults.hasOwnProperty(key) { … }` is not needed here, since\n\t\t// only recognized option names are used.\n\t\tresult[key] = hasOwnProperty.call(options, key) ? options[key] : defaults[key];\n\t}\n\treturn result;\n};\n\nvar regexAnySingleEscape = /[ -,\\.\\/:-@\\[-\\^`\\{-~]/;\nvar regexSingleEscape = /[ -,\\.\\/:-@\\[\\]\\^`\\{-~]/;\nvar regexAlwaysEscape = /['\"\\\\]/;\nvar regexExcessiveSpaces = /(^|\\\\+)?(\\\\[A-F0-9]{1,6})\\x20(?![a-fA-F0-9\\x20])/g;\n\n// https://mathiasbynens.be/notes/css-escapes#css\nvar cssesc = function cssesc(string, options) {\n\toptions = merge(options, cssesc.options);\n\tif (options.quotes != 'single' && options.quotes != 'double') {\n\t\toptions.quotes = 'single';\n\t}\n\tvar quote = options.quotes == 'double' ? '\"' : '\\'';\n\tvar isIdentifier = options.isIdentifier;\n\n\tvar firstChar = string.charAt(0);\n\tvar output = '';\n\tvar counter = 0;\n\tvar length = string.length;\n\twhile (counter < length) {\n\t\tvar character = string.charAt(counter++);\n\t\tvar codePoint = character.charCodeAt();\n\t\tvar value = void 0;\n\t\t// If it’s not a printable ASCII character…\n\t\tif (codePoint < 0x20 || codePoint > 0x7E) {\n\t\t\tif (codePoint >= 0xD800 && codePoint <= 0xDBFF && counter < length) {\n\t\t\t\t// It’s a high surrogate, and there is a next character.\n\t\t\t\tvar extra = string.charCodeAt(counter++);\n\t\t\t\tif ((extra & 0xFC00) == 0xDC00) {\n\t\t\t\t\t// next character is low surrogate\n\t\t\t\t\tcodePoint = ((codePoint & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000;\n\t\t\t\t} else {\n\t\t\t\t\t// It’s an unmatched surrogate; only append this code unit, in case\n\t\t\t\t\t// the next code unit is the high surrogate of a surrogate pair.\n\t\t\t\t\tcounter--;\n\t\t\t\t}\n\t\t\t}\n\t\t\tvalue = '\\\\' + codePoint.toString(16).toUpperCase() + ' ';\n\t\t} else {\n\t\t\tif (options.escapeEverything) {\n\t\t\t\tif (regexAnySingleEscape.test(character)) {\n\t\t\t\t\tvalue = '\\\\' + character;\n\t\t\t\t} else {\n\t\t\t\t\tvalue = '\\\\' + codePoint.toString(16).toUpperCase() + ' ';\n\t\t\t\t}\n\t\t\t} else if (/[\\t\\n\\f\\r\\x0B]/.test(character)) {\n\t\t\t\tvalue = '\\\\' + codePoint.toString(16).toUpperCase() + ' ';\n\t\t\t} else if (character == '\\\\' || !isIdentifier && (character == '\"' && quote == character || character == '\\'' && quote == character) || isIdentifier && regexSingleEscape.test(character)) {\n\t\t\t\tvalue = '\\\\' + character;\n\t\t\t} else {\n\t\t\t\tvalue = character;\n\t\t\t}\n\t\t}\n\t\toutput += value;\n\t}\n\n\tif (isIdentifier) {\n\t\tif (/^-[-\\d]/.test(output)) {\n\t\t\toutput = '\\\\-' + output.slice(1);\n\t\t} else if (/\\d/.test(firstChar)) {\n\t\t\toutput = '\\\\3' + firstChar + ' ' + output.slice(1);\n\t\t}\n\t}\n\n\t// Remove spaces after `\\HEX` escapes that are not followed by a hex digit,\n\t// since they’re redundant. Note that this is only possible if the escape\n\t// sequence isn’t preceded by an odd number of backslashes.\n\toutput = output.replace(regexExcessiveSpaces, function ($0, $1, $2) {\n\t\tif ($1 && $1.length % 2) {\n\t\t\t// It’s not safe to remove the space, so don’t.\n\t\t\treturn $0;\n\t\t}\n\t\t// Strip the space.\n\t\treturn ($1 || '') + $2;\n\t});\n\n\tif (!isIdentifier && options.wrap) {\n\t\treturn quote + output + quote;\n\t}\n\treturn output;\n};\n\n// Expose default options (so they can be overridden globally).\ncssesc.options = {\n\t'escapeEverything': false,\n\t'isIdentifier': false,\n\t'quotes': 'single',\n\t'wrap': false\n};\n\ncssesc.version = '3.0.0';\n\nmodule.exports = cssesc;\n","\"use strict\";\n\nexports.__esModule = true;\nexports[\"default\"] = void 0;\n\nvar _cssesc = _interopRequireDefault(require(\"cssesc\"));\n\nvar _util = require(\"../util\");\n\nvar _node = _interopRequireDefault(require(\"./node\"));\n\nvar _types = require(\"./types\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar ClassName = /*#__PURE__*/function (_Node) {\n  _inheritsLoose(ClassName, _Node);\n\n  function ClassName(opts) {\n    var _this;\n\n    _this = _Node.call(this, opts) || this;\n    _this.type = _types.CLASS;\n    _this._constructed = true;\n    return _this;\n  }\n\n  var _proto = ClassName.prototype;\n\n  _proto.valueToString = function valueToString() {\n    return '.' + _Node.prototype.valueToString.call(this);\n  };\n\n  _createClass(ClassName, [{\n    key: \"value\",\n    get: function get() {\n      return this._value;\n    },\n    set: function set(v) {\n      if (this._constructed) {\n        var escaped = (0, _cssesc[\"default\"])(v, {\n          isIdentifier: true\n        });\n\n        if (escaped !== v) {\n          (0, _util.ensureObject)(this, \"raws\");\n          this.raws.value = escaped;\n        } else if (this.raws) {\n          delete this.raws.value;\n        }\n      }\n\n      this._value = v;\n    }\n  }]);\n\n  return ClassName;\n}(_node[\"default\"]);\n\nexports[\"default\"] = ClassName;\nmodule.exports = exports.default;","\"use strict\";\n\nexports.__esModule = true;\nexports[\"default\"] = void 0;\n\nvar _node = _interopRequireDefault(require(\"./node\"));\n\nvar _types = require(\"./types\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar Comment = /*#__PURE__*/function (_Node) {\n  _inheritsLoose(Comment, _Node);\n\n  function Comment(opts) {\n    var _this;\n\n    _this = _Node.call(this, opts) || this;\n    _this.type = _types.COMMENT;\n    return _this;\n  }\n\n  return Comment;\n}(_node[\"default\"]);\n\nexports[\"default\"] = Comment;\nmodule.exports = exports.default;","\"use strict\";\n\nexports.__esModule = true;\nexports[\"default\"] = void 0;\n\nvar _node = _interopRequireDefault(require(\"./node\"));\n\nvar _types = require(\"./types\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar ID = /*#__PURE__*/function (_Node) {\n  _inheritsLoose(ID, _Node);\n\n  function ID(opts) {\n    var _this;\n\n    _this = _Node.call(this, opts) || this;\n    _this.type = _types.ID;\n    return _this;\n  }\n\n  var _proto = ID.prototype;\n\n  _proto.valueToString = function valueToString() {\n    return '#' + _Node.prototype.valueToString.call(this);\n  };\n\n  return ID;\n}(_node[\"default\"]);\n\nexports[\"default\"] = ID;\nmodule.exports = exports.default;","\"use strict\";\n\nexports.__esModule = true;\nexports[\"default\"] = void 0;\n\nvar _cssesc = _interopRequireDefault(require(\"cssesc\"));\n\nvar _util = require(\"../util\");\n\nvar _node = _interopRequireDefault(require(\"./node\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar Namespace = /*#__PURE__*/function (_Node) {\n  _inheritsLoose(Namespace, _Node);\n\n  function Namespace() {\n    return _Node.apply(this, arguments) || this;\n  }\n\n  var _proto = Namespace.prototype;\n\n  _proto.qualifiedName = function qualifiedName(value) {\n    if (this.namespace) {\n      return this.namespaceString + \"|\" + value;\n    } else {\n      return value;\n    }\n  };\n\n  _proto.valueToString = function valueToString() {\n    return this.qualifiedName(_Node.prototype.valueToString.call(this));\n  };\n\n  _createClass(Namespace, [{\n    key: \"namespace\",\n    get: function get() {\n      return this._namespace;\n    },\n    set: function set(namespace) {\n      if (namespace === true || namespace === \"*\" || namespace === \"&\") {\n        this._namespace = namespace;\n\n        if (this.raws) {\n          delete this.raws.namespace;\n        }\n\n        return;\n      }\n\n      var escaped = (0, _cssesc[\"default\"])(namespace, {\n        isIdentifier: true\n      });\n      this._namespace = namespace;\n\n      if (escaped !== namespace) {\n        (0, _util.ensureObject)(this, \"raws\");\n        this.raws.namespace = escaped;\n      } else if (this.raws) {\n        delete this.raws.namespace;\n      }\n    }\n  }, {\n    key: \"ns\",\n    get: function get() {\n      return this._namespace;\n    },\n    set: function set(namespace) {\n      this.namespace = namespace;\n    }\n  }, {\n    key: \"namespaceString\",\n    get: function get() {\n      if (this.namespace) {\n        var ns = this.stringifyProperty(\"namespace\");\n\n        if (ns === true) {\n          return '';\n        } else {\n          return ns;\n        }\n      } else {\n        return '';\n      }\n    }\n  }]);\n\n  return Namespace;\n}(_node[\"default\"]);\n\nexports[\"default\"] = Namespace;\n;\nmodule.exports = exports.default;","\"use strict\";\n\nexports.__esModule = true;\nexports[\"default\"] = void 0;\n\nvar _namespace = _interopRequireDefault(require(\"./namespace\"));\n\nvar _types = require(\"./types\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar Tag = /*#__PURE__*/function (_Namespace) {\n  _inheritsLoose(Tag, _Namespace);\n\n  function Tag(opts) {\n    var _this;\n\n    _this = _Namespace.call(this, opts) || this;\n    _this.type = _types.TAG;\n    return _this;\n  }\n\n  return Tag;\n}(_namespace[\"default\"]);\n\nexports[\"default\"] = Tag;\nmodule.exports = exports.default;","\"use strict\";\n\nexports.__esModule = true;\nexports[\"default\"] = void 0;\n\nvar _node = _interopRequireDefault(require(\"./node\"));\n\nvar _types = require(\"./types\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar String = /*#__PURE__*/function (_Node) {\n  _inheritsLoose(String, _Node);\n\n  function String(opts) {\n    var _this;\n\n    _this = _Node.call(this, opts) || this;\n    _this.type = _types.STRING;\n    return _this;\n  }\n\n  return String;\n}(_node[\"default\"]);\n\nexports[\"default\"] = String;\nmodule.exports = exports.default;","\"use strict\";\n\nexports.__esModule = true;\nexports[\"default\"] = void 0;\n\nvar _container = _interopRequireDefault(require(\"./container\"));\n\nvar _types = require(\"./types\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar Pseudo = /*#__PURE__*/function (_Container) {\n  _inheritsLoose(Pseudo, _Container);\n\n  function Pseudo(opts) {\n    var _this;\n\n    _this = _Container.call(this, opts) || this;\n    _this.type = _types.PSEUDO;\n    return _this;\n  }\n\n  var _proto = Pseudo.prototype;\n\n  _proto.toString = function toString() {\n    var params = this.length ? '(' + this.map(String).join(',') + ')' : '';\n    return [this.rawSpaceBefore, this.stringifyProperty(\"value\"), params, this.rawSpaceAfter].join('');\n  };\n\n  return Pseudo;\n}(_container[\"default\"]);\n\nexports[\"default\"] = Pseudo;\nmodule.exports = exports.default;","\n/**\n * Module exports.\n */\n\nmodule.exports = deprecate;\n\n/**\n * Mark that a method should not be used.\n * Returns a modified function which warns once by default.\n *\n * If `localStorage.noDeprecation = true` is set, then it is a no-op.\n *\n * If `localStorage.throwDeprecation = true` is set, then deprecated functions\n * will throw an Error when invoked.\n *\n * If `localStorage.traceDeprecation = true` is set, then deprecated functions\n * will invoke `console.trace()` instead of `console.error()`.\n *\n * @param {Function} fn - the function to deprecate\n * @param {String} msg - the string to print to the console when `fn` is invoked\n * @returns {Function} a new \"deprecated\" version of `fn`\n * @api public\n */\n\nfunction deprecate (fn, msg) {\n  if (config('noDeprecation')) {\n    return fn;\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (config('throwDeprecation')) {\n        throw new Error(msg);\n      } else if (config('traceDeprecation')) {\n        console.trace(msg);\n      } else {\n        console.warn(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n}\n\n/**\n * Checks `localStorage` for boolean values for the given `name`.\n *\n * @param {String} name\n * @returns {Boolean}\n * @api private\n */\n\nfunction config (name) {\n  // accessing global.localStorage can trigger a DOMException in sandboxed iframes\n  try {\n    if (!global.localStorage) return false;\n  } catch (_) {\n    return false;\n  }\n  var val = global.localStorage[name];\n  if (null == val) return false;\n  return String(val).toLowerCase() === 'true';\n}\n","\"use strict\";\n\nexports.__esModule = true;\nexports.unescapeValue = unescapeValue;\nexports[\"default\"] = void 0;\n\nvar _cssesc = _interopRequireDefault(require(\"cssesc\"));\n\nvar _unesc = _interopRequireDefault(require(\"../util/unesc\"));\n\nvar _namespace = _interopRequireDefault(require(\"./namespace\"));\n\nvar _types = require(\"./types\");\n\nvar _CSSESC_QUOTE_OPTIONS;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar deprecate = require(\"util-deprecate\");\n\nvar WRAPPED_IN_QUOTES = /^('|\")([^]*)\\1$/;\nvar warnOfDeprecatedValueAssignment = deprecate(function () {}, \"Assigning an attribute a value containing characters that might need to be escaped is deprecated. \" + \"Call attribute.setValue() instead.\");\nvar warnOfDeprecatedQuotedAssignment = deprecate(function () {}, \"Assigning attr.quoted is deprecated and has no effect. Assign to attr.quoteMark instead.\");\nvar warnOfDeprecatedConstructor = deprecate(function () {}, \"Constructing an Attribute selector with a value without specifying quoteMark is deprecated. Note: The value should be unescaped now.\");\n\nfunction unescapeValue(value) {\n  var deprecatedUsage = false;\n  var quoteMark = null;\n  var unescaped = value;\n  var m = unescaped.match(WRAPPED_IN_QUOTES);\n\n  if (m) {\n    quoteMark = m[1];\n    unescaped = m[2];\n  }\n\n  unescaped = (0, _unesc[\"default\"])(unescaped);\n\n  if (unescaped !== value) {\n    deprecatedUsage = true;\n  }\n\n  return {\n    deprecatedUsage: deprecatedUsage,\n    unescaped: unescaped,\n    quoteMark: quoteMark\n  };\n}\n\nfunction handleDeprecatedContructorOpts(opts) {\n  if (opts.quoteMark !== undefined) {\n    return opts;\n  }\n\n  if (opts.value === undefined) {\n    return opts;\n  }\n\n  warnOfDeprecatedConstructor();\n\n  var _unescapeValue = unescapeValue(opts.value),\n      quoteMark = _unescapeValue.quoteMark,\n      unescaped = _unescapeValue.unescaped;\n\n  if (!opts.raws) {\n    opts.raws = {};\n  }\n\n  if (opts.raws.value === undefined) {\n    opts.raws.value = opts.value;\n  }\n\n  opts.value = unescaped;\n  opts.quoteMark = quoteMark;\n  return opts;\n}\n\nvar Attribute = /*#__PURE__*/function (_Namespace) {\n  _inheritsLoose(Attribute, _Namespace);\n\n  function Attribute(opts) {\n    var _this;\n\n    if (opts === void 0) {\n      opts = {};\n    }\n\n    _this = _Namespace.call(this, handleDeprecatedContructorOpts(opts)) || this;\n    _this.type = _types.ATTRIBUTE;\n    _this.raws = _this.raws || {};\n    Object.defineProperty(_this.raws, 'unquoted', {\n      get: deprecate(function () {\n        return _this.value;\n      }, \"attr.raws.unquoted is deprecated. Call attr.value instead.\"),\n      set: deprecate(function () {\n        return _this.value;\n      }, \"Setting attr.raws.unquoted is deprecated and has no effect. attr.value is unescaped by default now.\")\n    });\n    _this._constructed = true;\n    return _this;\n  }\n  /**\n   * Returns the Attribute's value quoted such that it would be legal to use\n   * in the value of a css file. The original value's quotation setting\n   * used for stringification is left unchanged. See `setValue(value, options)`\n   * if you want to control the quote settings of a new value for the attribute.\n   *\n   * You can also change the quotation used for the current value by setting quoteMark.\n   *\n   * Options:\n   *   * quoteMark {'\"' | \"'\" | null} - Use this value to quote the value. If this\n   *     option is not set, the original value for quoteMark will be used. If\n   *     indeterminate, a double quote is used. The legal values are:\n   *     * `null` - the value will be unquoted and characters will be escaped as necessary.\n   *     * `'` - the value will be quoted with a single quote and single quotes are escaped.\n   *     * `\"` - the value will be quoted with a double quote and double quotes are escaped.\n   *   * preferCurrentQuoteMark {boolean} - if true, prefer the source quote mark\n   *     over the quoteMark option value.\n   *   * smart {boolean} - if true, will select a quote mark based on the value\n   *     and the other options specified here. See the `smartQuoteMark()`\n   *     method.\n   **/\n\n\n  var _proto = Attribute.prototype;\n\n  _proto.getQuotedValue = function getQuotedValue(options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    var quoteMark = this._determineQuoteMark(options);\n\n    var cssescopts = CSSESC_QUOTE_OPTIONS[quoteMark];\n    var escaped = (0, _cssesc[\"default\"])(this._value, cssescopts);\n    return escaped;\n  };\n\n  _proto._determineQuoteMark = function _determineQuoteMark(options) {\n    return options.smart ? this.smartQuoteMark(options) : this.preferredQuoteMark(options);\n  }\n  /**\n   * Set the unescaped value with the specified quotation options. The value\n   * provided must not include any wrapping quote marks -- those quotes will\n   * be interpreted as part of the value and escaped accordingly.\n   */\n  ;\n\n  _proto.setValue = function setValue(value, options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    this._value = value;\n    this._quoteMark = this._determineQuoteMark(options);\n\n    this._syncRawValue();\n  }\n  /**\n   * Intelligently select a quoteMark value based on the value's contents. If\n   * the value is a legal CSS ident, it will not be quoted. Otherwise a quote\n   * mark will be picked that minimizes the number of escapes.\n   *\n   * If there's no clear winner, the quote mark from these options is used,\n   * then the source quote mark (this is inverted if `preferCurrentQuoteMark` is\n   * true). If the quoteMark is unspecified, a double quote is used.\n   *\n   * @param options This takes the quoteMark and preferCurrentQuoteMark options\n   * from the quoteValue method.\n   */\n  ;\n\n  _proto.smartQuoteMark = function smartQuoteMark(options) {\n    var v = this.value;\n    var numSingleQuotes = v.replace(/[^']/g, '').length;\n    var numDoubleQuotes = v.replace(/[^\"]/g, '').length;\n\n    if (numSingleQuotes + numDoubleQuotes === 0) {\n      var escaped = (0, _cssesc[\"default\"])(v, {\n        isIdentifier: true\n      });\n\n      if (escaped === v) {\n        return Attribute.NO_QUOTE;\n      } else {\n        var pref = this.preferredQuoteMark(options);\n\n        if (pref === Attribute.NO_QUOTE) {\n          // pick a quote mark that isn't none and see if it's smaller\n          var quote = this.quoteMark || options.quoteMark || Attribute.DOUBLE_QUOTE;\n          var opts = CSSESC_QUOTE_OPTIONS[quote];\n          var quoteValue = (0, _cssesc[\"default\"])(v, opts);\n\n          if (quoteValue.length < escaped.length) {\n            return quote;\n          }\n        }\n\n        return pref;\n      }\n    } else if (numDoubleQuotes === numSingleQuotes) {\n      return this.preferredQuoteMark(options);\n    } else if (numDoubleQuotes < numSingleQuotes) {\n      return Attribute.DOUBLE_QUOTE;\n    } else {\n      return Attribute.SINGLE_QUOTE;\n    }\n  }\n  /**\n   * Selects the preferred quote mark based on the options and the current quote mark value.\n   * If you want the quote mark to depend on the attribute value, call `smartQuoteMark(opts)`\n   * instead.\n   */\n  ;\n\n  _proto.preferredQuoteMark = function preferredQuoteMark(options) {\n    var quoteMark = options.preferCurrentQuoteMark ? this.quoteMark : options.quoteMark;\n\n    if (quoteMark === undefined) {\n      quoteMark = options.preferCurrentQuoteMark ? options.quoteMark : this.quoteMark;\n    }\n\n    if (quoteMark === undefined) {\n      quoteMark = Attribute.DOUBLE_QUOTE;\n    }\n\n    return quoteMark;\n  };\n\n  _proto._syncRawValue = function _syncRawValue() {\n    var rawValue = (0, _cssesc[\"default\"])(this._value, CSSESC_QUOTE_OPTIONS[this.quoteMark]);\n\n    if (rawValue === this._value) {\n      if (this.raws) {\n        delete this.raws.value;\n      }\n    } else {\n      this.raws.value = rawValue;\n    }\n  };\n\n  _proto._handleEscapes = function _handleEscapes(prop, value) {\n    if (this._constructed) {\n      var escaped = (0, _cssesc[\"default\"])(value, {\n        isIdentifier: true\n      });\n\n      if (escaped !== value) {\n        this.raws[prop] = escaped;\n      } else {\n        delete this.raws[prop];\n      }\n    }\n  };\n\n  _proto._spacesFor = function _spacesFor(name) {\n    var attrSpaces = {\n      before: '',\n      after: ''\n    };\n    var spaces = this.spaces[name] || {};\n    var rawSpaces = this.raws.spaces && this.raws.spaces[name] || {};\n    return Object.assign(attrSpaces, spaces, rawSpaces);\n  };\n\n  _proto._stringFor = function _stringFor(name, spaceName, concat) {\n    if (spaceName === void 0) {\n      spaceName = name;\n    }\n\n    if (concat === void 0) {\n      concat = defaultAttrConcat;\n    }\n\n    var attrSpaces = this._spacesFor(spaceName);\n\n    return concat(this.stringifyProperty(name), attrSpaces);\n  }\n  /**\n   * returns the offset of the attribute part specified relative to the\n   * start of the node of the output string.\n   *\n   * * \"ns\" - alias for \"namespace\"\n   * * \"namespace\" - the namespace if it exists.\n   * * \"attribute\" - the attribute name\n   * * \"attributeNS\" - the start of the attribute or its namespace\n   * * \"operator\" - the match operator of the attribute\n   * * \"value\" - The value (string or identifier)\n   * * \"insensitive\" - the case insensitivity flag;\n   * @param part One of the possible values inside an attribute.\n   * @returns -1 if the name is invalid or the value doesn't exist in this attribute.\n   */\n  ;\n\n  _proto.offsetOf = function offsetOf(name) {\n    var count = 1;\n\n    var attributeSpaces = this._spacesFor(\"attribute\");\n\n    count += attributeSpaces.before.length;\n\n    if (name === \"namespace\" || name === \"ns\") {\n      return this.namespace ? count : -1;\n    }\n\n    if (name === \"attributeNS\") {\n      return count;\n    }\n\n    count += this.namespaceString.length;\n\n    if (this.namespace) {\n      count += 1;\n    }\n\n    if (name === \"attribute\") {\n      return count;\n    }\n\n    count += this.stringifyProperty(\"attribute\").length;\n    count += attributeSpaces.after.length;\n\n    var operatorSpaces = this._spacesFor(\"operator\");\n\n    count += operatorSpaces.before.length;\n    var operator = this.stringifyProperty(\"operator\");\n\n    if (name === \"operator\") {\n      return operator ? count : -1;\n    }\n\n    count += operator.length;\n    count += operatorSpaces.after.length;\n\n    var valueSpaces = this._spacesFor(\"value\");\n\n    count += valueSpaces.before.length;\n    var value = this.stringifyProperty(\"value\");\n\n    if (name === \"value\") {\n      return value ? count : -1;\n    }\n\n    count += value.length;\n    count += valueSpaces.after.length;\n\n    var insensitiveSpaces = this._spacesFor(\"insensitive\");\n\n    count += insensitiveSpaces.before.length;\n\n    if (name === \"insensitive\") {\n      return this.insensitive ? count : -1;\n    }\n\n    return -1;\n  };\n\n  _proto.toString = function toString() {\n    var _this2 = this;\n\n    var selector = [this.rawSpaceBefore, '['];\n    selector.push(this._stringFor('qualifiedAttribute', 'attribute'));\n\n    if (this.operator && (this.value || this.value === '')) {\n      selector.push(this._stringFor('operator'));\n      selector.push(this._stringFor('value'));\n      selector.push(this._stringFor('insensitiveFlag', 'insensitive', function (attrValue, attrSpaces) {\n        if (attrValue.length > 0 && !_this2.quoted && attrSpaces.before.length === 0 && !(_this2.spaces.value && _this2.spaces.value.after)) {\n          attrSpaces.before = \" \";\n        }\n\n        return defaultAttrConcat(attrValue, attrSpaces);\n      }));\n    }\n\n    selector.push(']');\n    selector.push(this.rawSpaceAfter);\n    return selector.join('');\n  };\n\n  _createClass(Attribute, [{\n    key: \"quoted\",\n    get: function get() {\n      var qm = this.quoteMark;\n      return qm === \"'\" || qm === '\"';\n    },\n    set: function set(value) {\n      warnOfDeprecatedQuotedAssignment();\n    }\n    /**\n     * returns a single (`'`) or double (`\"`) quote character if the value is quoted.\n     * returns `null` if the value is not quoted.\n     * returns `undefined` if the quotation state is unknown (this can happen when\n     * the attribute is constructed without specifying a quote mark.)\n     */\n\n  }, {\n    key: \"quoteMark\",\n    get: function get() {\n      return this._quoteMark;\n    }\n    /**\n     * Set the quote mark to be used by this attribute's value.\n     * If the quote mark changes, the raw (escaped) value at `attr.raws.value` of the attribute\n     * value is updated accordingly.\n     *\n     * @param {\"'\" | '\"' | null} quoteMark The quote mark or `null` if the value should be unquoted.\n     */\n    ,\n    set: function set(quoteMark) {\n      if (!this._constructed) {\n        this._quoteMark = quoteMark;\n        return;\n      }\n\n      if (this._quoteMark !== quoteMark) {\n        this._quoteMark = quoteMark;\n\n        this._syncRawValue();\n      }\n    }\n  }, {\n    key: \"qualifiedAttribute\",\n    get: function get() {\n      return this.qualifiedName(this.raws.attribute || this.attribute);\n    }\n  }, {\n    key: \"insensitiveFlag\",\n    get: function get() {\n      return this.insensitive ? 'i' : '';\n    }\n  }, {\n    key: \"value\",\n    get: function get() {\n      return this._value;\n    }\n    /**\n     * Before 3.0, the value had to be set to an escaped value including any wrapped\n     * quote marks. In 3.0, the semantics of `Attribute.value` changed so that the value\n     * is unescaped during parsing and any quote marks are removed.\n     *\n     * Because the ambiguity of this semantic change, if you set `attr.value = newValue`,\n     * a deprecation warning is raised when the new value contains any characters that would\n     * require escaping (including if it contains wrapped quotes).\n     *\n     * Instead, you should call `attr.setValue(newValue, opts)` and pass options that describe\n     * how the new value is quoted.\n     */\n    ,\n    set: function set(v) {\n      if (this._constructed) {\n        var _unescapeValue2 = unescapeValue(v),\n            deprecatedUsage = _unescapeValue2.deprecatedUsage,\n            unescaped = _unescapeValue2.unescaped,\n            quoteMark = _unescapeValue2.quoteMark;\n\n        if (deprecatedUsage) {\n          warnOfDeprecatedValueAssignment();\n        }\n\n        if (unescaped === this._value && quoteMark === this._quoteMark) {\n          return;\n        }\n\n        this._value = unescaped;\n        this._quoteMark = quoteMark;\n\n        this._syncRawValue();\n      } else {\n        this._value = v;\n      }\n    }\n  }, {\n    key: \"attribute\",\n    get: function get() {\n      return this._attribute;\n    },\n    set: function set(name) {\n      this._handleEscapes(\"attribute\", name);\n\n      this._attribute = name;\n    }\n  }]);\n\n  return Attribute;\n}(_namespace[\"default\"]);\n\nexports[\"default\"] = Attribute;\nAttribute.NO_QUOTE = null;\nAttribute.SINGLE_QUOTE = \"'\";\nAttribute.DOUBLE_QUOTE = '\"';\nvar CSSESC_QUOTE_OPTIONS = (_CSSESC_QUOTE_OPTIONS = {\n  \"'\": {\n    quotes: 'single',\n    wrap: true\n  },\n  '\"': {\n    quotes: 'double',\n    wrap: true\n  }\n}, _CSSESC_QUOTE_OPTIONS[null] = {\n  isIdentifier: true\n}, _CSSESC_QUOTE_OPTIONS);\n\nfunction defaultAttrConcat(attrValue, attrSpaces) {\n  return \"\" + attrSpaces.before + attrValue + attrSpaces.after;\n}","\"use strict\";\n\nexports.__esModule = true;\nexports[\"default\"] = void 0;\n\nvar _namespace = _interopRequireDefault(require(\"./namespace\"));\n\nvar _types = require(\"./types\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar Universal = /*#__PURE__*/function (_Namespace) {\n  _inheritsLoose(Universal, _Namespace);\n\n  function Universal(opts) {\n    var _this;\n\n    _this = _Namespace.call(this, opts) || this;\n    _this.type = _types.UNIVERSAL;\n    _this.value = '*';\n    return _this;\n  }\n\n  return Universal;\n}(_namespace[\"default\"]);\n\nexports[\"default\"] = Universal;\nmodule.exports = exports.default;","\"use strict\";\n\nexports.__esModule = true;\nexports[\"default\"] = void 0;\n\nvar _node = _interopRequireDefault(require(\"./node\"));\n\nvar _types = require(\"./types\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar Combinator = /*#__PURE__*/function (_Node) {\n  _inheritsLoose(Combinator, _Node);\n\n  function Combinator(opts) {\n    var _this;\n\n    _this = _Node.call(this, opts) || this;\n    _this.type = _types.COMBINATOR;\n    return _this;\n  }\n\n  return Combinator;\n}(_node[\"default\"]);\n\nexports[\"default\"] = Combinator;\nmodule.exports = exports.default;","\"use strict\";\n\nexports.__esModule = true;\nexports[\"default\"] = void 0;\n\nvar _node = _interopRequireDefault(require(\"./node\"));\n\nvar _types = require(\"./types\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar Nesting = /*#__PURE__*/function (_Node) {\n  _inheritsLoose(Nesting, _Node);\n\n  function Nesting(opts) {\n    var _this;\n\n    _this = _Node.call(this, opts) || this;\n    _this.type = _types.NESTING;\n    _this.value = '&';\n    return _this;\n  }\n\n  return Nesting;\n}(_node[\"default\"]);\n\nexports[\"default\"] = Nesting;\nmodule.exports = exports.default;","\"use strict\";\n\nexports.__esModule = true;\nexports[\"default\"] = sortAscending;\n\nfunction sortAscending(list) {\n  return list.sort(function (a, b) {\n    return a - b;\n  });\n}\n\n;\nmodule.exports = exports.default;","\"use strict\";\n\nexports.__esModule = true;\nexports.combinator = exports.word = exports.comment = exports.str = exports.tab = exports.newline = exports.feed = exports.cr = exports.backslash = exports.bang = exports.slash = exports.doubleQuote = exports.singleQuote = exports.space = exports.greaterThan = exports.pipe = exports.equals = exports.plus = exports.caret = exports.tilde = exports.dollar = exports.closeSquare = exports.openSquare = exports.closeParenthesis = exports.openParenthesis = exports.semicolon = exports.colon = exports.comma = exports.at = exports.asterisk = exports.ampersand = void 0;\nvar ampersand = 38; // `&`.charCodeAt(0);\n\nexports.ampersand = ampersand;\nvar asterisk = 42; // `*`.charCodeAt(0);\n\nexports.asterisk = asterisk;\nvar at = 64; // `@`.charCodeAt(0);\n\nexports.at = at;\nvar comma = 44; // `,`.charCodeAt(0);\n\nexports.comma = comma;\nvar colon = 58; // `:`.charCodeAt(0);\n\nexports.colon = colon;\nvar semicolon = 59; // `;`.charCodeAt(0);\n\nexports.semicolon = semicolon;\nvar openParenthesis = 40; // `(`.charCodeAt(0);\n\nexports.openParenthesis = openParenthesis;\nvar closeParenthesis = 41; // `)`.charCodeAt(0);\n\nexports.closeParenthesis = closeParenthesis;\nvar openSquare = 91; // `[`.charCodeAt(0);\n\nexports.openSquare = openSquare;\nvar closeSquare = 93; // `]`.charCodeAt(0);\n\nexports.closeSquare = closeSquare;\nvar dollar = 36; // `$`.charCodeAt(0);\n\nexports.dollar = dollar;\nvar tilde = 126; // `~`.charCodeAt(0);\n\nexports.tilde = tilde;\nvar caret = 94; // `^`.charCodeAt(0);\n\nexports.caret = caret;\nvar plus = 43; // `+`.charCodeAt(0);\n\nexports.plus = plus;\nvar equals = 61; // `=`.charCodeAt(0);\n\nexports.equals = equals;\nvar pipe = 124; // `|`.charCodeAt(0);\n\nexports.pipe = pipe;\nvar greaterThan = 62; // `>`.charCodeAt(0);\n\nexports.greaterThan = greaterThan;\nvar space = 32; // ` `.charCodeAt(0);\n\nexports.space = space;\nvar singleQuote = 39; // `'`.charCodeAt(0);\n\nexports.singleQuote = singleQuote;\nvar doubleQuote = 34; // `\"`.charCodeAt(0);\n\nexports.doubleQuote = doubleQuote;\nvar slash = 47; // `/`.charCodeAt(0);\n\nexports.slash = slash;\nvar bang = 33; // `!`.charCodeAt(0);\n\nexports.bang = bang;\nvar backslash = 92; // '\\\\'.charCodeAt(0);\n\nexports.backslash = backslash;\nvar cr = 13; // '\\r'.charCodeAt(0);\n\nexports.cr = cr;\nvar feed = 12; // '\\f'.charCodeAt(0);\n\nexports.feed = feed;\nvar newline = 10; // '\\n'.charCodeAt(0);\n\nexports.newline = newline;\nvar tab = 9; // '\\t'.charCodeAt(0);\n// Expose aliases primarily for readability.\n\nexports.tab = tab;\nvar str = singleQuote; // No good single character representation!\n\nexports.str = str;\nvar comment = -1;\nexports.comment = comment;\nvar word = -2;\nexports.word = word;\nvar combinator = -3;\nexports.combinator = combinator;","\"use strict\";\n\nexports.__esModule = true;\nexports[\"default\"] = tokenize;\nexports.FIELDS = void 0;\n\nvar t = _interopRequireWildcard(require(\"./tokenTypes\"));\n\nvar _unescapable, _wordDelimiters;\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nvar unescapable = (_unescapable = {}, _unescapable[t.tab] = true, _unescapable[t.newline] = true, _unescapable[t.cr] = true, _unescapable[t.feed] = true, _unescapable);\nvar wordDelimiters = (_wordDelimiters = {}, _wordDelimiters[t.space] = true, _wordDelimiters[t.tab] = true, _wordDelimiters[t.newline] = true, _wordDelimiters[t.cr] = true, _wordDelimiters[t.feed] = true, _wordDelimiters[t.ampersand] = true, _wordDelimiters[t.asterisk] = true, _wordDelimiters[t.bang] = true, _wordDelimiters[t.comma] = true, _wordDelimiters[t.colon] = true, _wordDelimiters[t.semicolon] = true, _wordDelimiters[t.openParenthesis] = true, _wordDelimiters[t.closeParenthesis] = true, _wordDelimiters[t.openSquare] = true, _wordDelimiters[t.closeSquare] = true, _wordDelimiters[t.singleQuote] = true, _wordDelimiters[t.doubleQuote] = true, _wordDelimiters[t.plus] = true, _wordDelimiters[t.pipe] = true, _wordDelimiters[t.tilde] = true, _wordDelimiters[t.greaterThan] = true, _wordDelimiters[t.equals] = true, _wordDelimiters[t.dollar] = true, _wordDelimiters[t.caret] = true, _wordDelimiters[t.slash] = true, _wordDelimiters);\nvar hex = {};\nvar hexChars = \"0123456789abcdefABCDEF\";\n\nfor (var i = 0; i < hexChars.length; i++) {\n  hex[hexChars.charCodeAt(i)] = true;\n}\n/**\n *  Returns the last index of the bar css word\n * @param {string} css The string in which the word begins\n * @param {number} start The index into the string where word's first letter occurs\n */\n\n\nfunction consumeWord(css, start) {\n  var next = start;\n  var code;\n\n  do {\n    code = css.charCodeAt(next);\n\n    if (wordDelimiters[code]) {\n      return next - 1;\n    } else if (code === t.backslash) {\n      next = consumeEscape(css, next) + 1;\n    } else {\n      // All other characters are part of the word\n      next++;\n    }\n  } while (next < css.length);\n\n  return next - 1;\n}\n/**\n *  Returns the last index of the escape sequence\n * @param {string} css The string in which the sequence begins\n * @param {number} start The index into the string where escape character (`\\`) occurs.\n */\n\n\nfunction consumeEscape(css, start) {\n  var next = start;\n  var code = css.charCodeAt(next + 1);\n\n  if (unescapable[code]) {// just consume the escape char\n  } else if (hex[code]) {\n    var hexDigits = 0; // consume up to 6 hex chars\n\n    do {\n      next++;\n      hexDigits++;\n      code = css.charCodeAt(next + 1);\n    } while (hex[code] && hexDigits < 6); // if fewer than 6 hex chars, a trailing space ends the escape\n\n\n    if (hexDigits < 6 && code === t.space) {\n      next++;\n    }\n  } else {\n    // the next char is part of the current word\n    next++;\n  }\n\n  return next;\n}\n\nvar FIELDS = {\n  TYPE: 0,\n  START_LINE: 1,\n  START_COL: 2,\n  END_LINE: 3,\n  END_COL: 4,\n  START_POS: 5,\n  END_POS: 6\n};\nexports.FIELDS = FIELDS;\n\nfunction tokenize(input) {\n  var tokens = [];\n  var css = input.css.valueOf();\n  var _css = css,\n      length = _css.length;\n  var offset = -1;\n  var line = 1;\n  var start = 0;\n  var end = 0;\n  var code, content, endColumn, endLine, escaped, escapePos, last, lines, next, nextLine, nextOffset, quote, tokenType;\n\n  function unclosed(what, fix) {\n    if (input.safe) {\n      // fyi: this is never set to true.\n      css += fix;\n      next = css.length - 1;\n    } else {\n      throw input.error('Unclosed ' + what, line, start - offset, start);\n    }\n  }\n\n  while (start < length) {\n    code = css.charCodeAt(start);\n\n    if (code === t.newline) {\n      offset = start;\n      line += 1;\n    }\n\n    switch (code) {\n      case t.space:\n      case t.tab:\n      case t.newline:\n      case t.cr:\n      case t.feed:\n        next = start;\n\n        do {\n          next += 1;\n          code = css.charCodeAt(next);\n\n          if (code === t.newline) {\n            offset = next;\n            line += 1;\n          }\n        } while (code === t.space || code === t.newline || code === t.tab || code === t.cr || code === t.feed);\n\n        tokenType = t.space;\n        endLine = line;\n        endColumn = next - offset - 1;\n        end = next;\n        break;\n\n      case t.plus:\n      case t.greaterThan:\n      case t.tilde:\n      case t.pipe:\n        next = start;\n\n        do {\n          next += 1;\n          code = css.charCodeAt(next);\n        } while (code === t.plus || code === t.greaterThan || code === t.tilde || code === t.pipe);\n\n        tokenType = t.combinator;\n        endLine = line;\n        endColumn = start - offset;\n        end = next;\n        break;\n      // Consume these characters as single tokens.\n\n      case t.asterisk:\n      case t.ampersand:\n      case t.bang:\n      case t.comma:\n      case t.equals:\n      case t.dollar:\n      case t.caret:\n      case t.openSquare:\n      case t.closeSquare:\n      case t.colon:\n      case t.semicolon:\n      case t.openParenthesis:\n      case t.closeParenthesis:\n        next = start;\n        tokenType = code;\n        endLine = line;\n        endColumn = start - offset;\n        end = next + 1;\n        break;\n\n      case t.singleQuote:\n      case t.doubleQuote:\n        quote = code === t.singleQuote ? \"'\" : '\"';\n        next = start;\n\n        do {\n          escaped = false;\n          next = css.indexOf(quote, next + 1);\n\n          if (next === -1) {\n            unclosed('quote', quote);\n          }\n\n          escapePos = next;\n\n          while (css.charCodeAt(escapePos - 1) === t.backslash) {\n            escapePos -= 1;\n            escaped = !escaped;\n          }\n        } while (escaped);\n\n        tokenType = t.str;\n        endLine = line;\n        endColumn = start - offset;\n        end = next + 1;\n        break;\n\n      default:\n        if (code === t.slash && css.charCodeAt(start + 1) === t.asterisk) {\n          next = css.indexOf('*/', start + 2) + 1;\n\n          if (next === 0) {\n            unclosed('comment', '*/');\n          }\n\n          content = css.slice(start, next + 1);\n          lines = content.split('\\n');\n          last = lines.length - 1;\n\n          if (last > 0) {\n            nextLine = line + last;\n            nextOffset = next - lines[last].length;\n          } else {\n            nextLine = line;\n            nextOffset = offset;\n          }\n\n          tokenType = t.comment;\n          line = nextLine;\n          endLine = nextLine;\n          endColumn = next - nextOffset;\n        } else if (code === t.slash) {\n          next = start;\n          tokenType = code;\n          endLine = line;\n          endColumn = start - offset;\n          end = next + 1;\n        } else {\n          next = consumeWord(css, start);\n          tokenType = t.word;\n          endLine = line;\n          endColumn = next - offset;\n        }\n\n        end = next + 1;\n        break;\n    } // Ensure that the token structure remains consistent\n\n\n    tokens.push([tokenType, // [0] Token type\n    line, // [1] Starting line\n    start - offset, // [2] Starting column\n    endLine, // [3] Ending line\n    endColumn, // [4] Ending column\n    start, // [5] Start position / Source index\n    end // [6] End position\n    ]); // Reset offset for the next token\n\n    if (nextOffset) {\n      offset = nextOffset;\n      nextOffset = null;\n    }\n\n    start = end;\n  }\n\n  return tokens;\n}","\"use strict\";\n\nexports.__esModule = true;\nexports[\"default\"] = void 0;\n\nvar _root = _interopRequireDefault(require(\"./selectors/root\"));\n\nvar _selector = _interopRequireDefault(require(\"./selectors/selector\"));\n\nvar _className = _interopRequireDefault(require(\"./selectors/className\"));\n\nvar _comment = _interopRequireDefault(require(\"./selectors/comment\"));\n\nvar _id = _interopRequireDefault(require(\"./selectors/id\"));\n\nvar _tag = _interopRequireDefault(require(\"./selectors/tag\"));\n\nvar _string = _interopRequireDefault(require(\"./selectors/string\"));\n\nvar _pseudo = _interopRequireDefault(require(\"./selectors/pseudo\"));\n\nvar _attribute = _interopRequireWildcard(require(\"./selectors/attribute\"));\n\nvar _universal = _interopRequireDefault(require(\"./selectors/universal\"));\n\nvar _combinator = _interopRequireDefault(require(\"./selectors/combinator\"));\n\nvar _nesting = _interopRequireDefault(require(\"./selectors/nesting\"));\n\nvar _sortAscending = _interopRequireDefault(require(\"./sortAscending\"));\n\nvar _tokenize = _interopRequireWildcard(require(\"./tokenize\"));\n\nvar tokens = _interopRequireWildcard(require(\"./tokenTypes\"));\n\nvar types = _interopRequireWildcard(require(\"./selectors/types\"));\n\nvar _util = require(\"./util\");\n\nvar _WHITESPACE_TOKENS, _Object$assign;\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar WHITESPACE_TOKENS = (_WHITESPACE_TOKENS = {}, _WHITESPACE_TOKENS[tokens.space] = true, _WHITESPACE_TOKENS[tokens.cr] = true, _WHITESPACE_TOKENS[tokens.feed] = true, _WHITESPACE_TOKENS[tokens.newline] = true, _WHITESPACE_TOKENS[tokens.tab] = true, _WHITESPACE_TOKENS);\nvar WHITESPACE_EQUIV_TOKENS = Object.assign({}, WHITESPACE_TOKENS, (_Object$assign = {}, _Object$assign[tokens.comment] = true, _Object$assign));\n\nfunction tokenStart(token) {\n  return {\n    line: token[_tokenize.FIELDS.START_LINE],\n    column: token[_tokenize.FIELDS.START_COL]\n  };\n}\n\nfunction tokenEnd(token) {\n  return {\n    line: token[_tokenize.FIELDS.END_LINE],\n    column: token[_tokenize.FIELDS.END_COL]\n  };\n}\n\nfunction getSource(startLine, startColumn, endLine, endColumn) {\n  return {\n    start: {\n      line: startLine,\n      column: startColumn\n    },\n    end: {\n      line: endLine,\n      column: endColumn\n    }\n  };\n}\n\nfunction getTokenSource(token) {\n  return getSource(token[_tokenize.FIELDS.START_LINE], token[_tokenize.FIELDS.START_COL], token[_tokenize.FIELDS.END_LINE], token[_tokenize.FIELDS.END_COL]);\n}\n\nfunction getTokenSourceSpan(startToken, endToken) {\n  if (!startToken) {\n    return undefined;\n  }\n\n  return getSource(startToken[_tokenize.FIELDS.START_LINE], startToken[_tokenize.FIELDS.START_COL], endToken[_tokenize.FIELDS.END_LINE], endToken[_tokenize.FIELDS.END_COL]);\n}\n\nfunction unescapeProp(node, prop) {\n  var value = node[prop];\n\n  if (typeof value !== \"string\") {\n    return;\n  }\n\n  if (value.indexOf(\"\\\\\") !== -1) {\n    (0, _util.ensureObject)(node, 'raws');\n    node[prop] = (0, _util.unesc)(value);\n\n    if (node.raws[prop] === undefined) {\n      node.raws[prop] = value;\n    }\n  }\n\n  return node;\n}\n\nfunction indexesOf(array, item) {\n  var i = -1;\n  var indexes = [];\n\n  while ((i = array.indexOf(item, i + 1)) !== -1) {\n    indexes.push(i);\n  }\n\n  return indexes;\n}\n\nfunction uniqs() {\n  var list = Array.prototype.concat.apply([], arguments);\n  return list.filter(function (item, i) {\n    return i === list.indexOf(item);\n  });\n}\n\nvar Parser = /*#__PURE__*/function () {\n  function Parser(rule, options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    this.rule = rule;\n    this.options = Object.assign({\n      lossy: false,\n      safe: false\n    }, options);\n    this.position = 0;\n    this.css = typeof this.rule === 'string' ? this.rule : this.rule.selector;\n    this.tokens = (0, _tokenize[\"default\"])({\n      css: this.css,\n      error: this._errorGenerator(),\n      safe: this.options.safe\n    });\n    var rootSource = getTokenSourceSpan(this.tokens[0], this.tokens[this.tokens.length - 1]);\n    this.root = new _root[\"default\"]({\n      source: rootSource\n    });\n    this.root.errorGenerator = this._errorGenerator();\n    var selector = new _selector[\"default\"]({\n      source: {\n        start: {\n          line: 1,\n          column: 1\n        }\n      }\n    });\n    this.root.append(selector);\n    this.current = selector;\n    this.loop();\n  }\n\n  var _proto = Parser.prototype;\n\n  _proto._errorGenerator = function _errorGenerator() {\n    var _this = this;\n\n    return function (message, errorOptions) {\n      if (typeof _this.rule === 'string') {\n        return new Error(message);\n      }\n\n      return _this.rule.error(message, errorOptions);\n    };\n  };\n\n  _proto.attribute = function attribute() {\n    var attr = [];\n    var startingToken = this.currToken;\n    this.position++;\n\n    while (this.position < this.tokens.length && this.currToken[_tokenize.FIELDS.TYPE] !== tokens.closeSquare) {\n      attr.push(this.currToken);\n      this.position++;\n    }\n\n    if (this.currToken[_tokenize.FIELDS.TYPE] !== tokens.closeSquare) {\n      return this.expected('closing square bracket', this.currToken[_tokenize.FIELDS.START_POS]);\n    }\n\n    var len = attr.length;\n    var node = {\n      source: getSource(startingToken[1], startingToken[2], this.currToken[3], this.currToken[4]),\n      sourceIndex: startingToken[_tokenize.FIELDS.START_POS]\n    };\n\n    if (len === 1 && !~[tokens.word].indexOf(attr[0][_tokenize.FIELDS.TYPE])) {\n      return this.expected('attribute', attr[0][_tokenize.FIELDS.START_POS]);\n    }\n\n    var pos = 0;\n    var spaceBefore = '';\n    var commentBefore = '';\n    var lastAdded = null;\n    var spaceAfterMeaningfulToken = false;\n\n    while (pos < len) {\n      var token = attr[pos];\n      var content = this.content(token);\n      var next = attr[pos + 1];\n\n      switch (token[_tokenize.FIELDS.TYPE]) {\n        case tokens.space:\n          // if (\n          //     len === 1 ||\n          //     pos === 0 && this.content(next) === '|'\n          // ) {\n          //     return this.expected('attribute', token[TOKEN.START_POS], content);\n          // }\n          spaceAfterMeaningfulToken = true;\n\n          if (this.options.lossy) {\n            break;\n          }\n\n          if (lastAdded) {\n            (0, _util.ensureObject)(node, 'spaces', lastAdded);\n            var prevContent = node.spaces[lastAdded].after || '';\n            node.spaces[lastAdded].after = prevContent + content;\n            var existingComment = (0, _util.getProp)(node, 'raws', 'spaces', lastAdded, 'after') || null;\n\n            if (existingComment) {\n              node.raws.spaces[lastAdded].after = existingComment + content;\n            }\n          } else {\n            spaceBefore = spaceBefore + content;\n            commentBefore = commentBefore + content;\n          }\n\n          break;\n\n        case tokens.asterisk:\n          if (next[_tokenize.FIELDS.TYPE] === tokens.equals) {\n            node.operator = content;\n            lastAdded = 'operator';\n          } else if ((!node.namespace || lastAdded === \"namespace\" && !spaceAfterMeaningfulToken) && next) {\n            if (spaceBefore) {\n              (0, _util.ensureObject)(node, 'spaces', 'attribute');\n              node.spaces.attribute.before = spaceBefore;\n              spaceBefore = '';\n            }\n\n            if (commentBefore) {\n              (0, _util.ensureObject)(node, 'raws', 'spaces', 'attribute');\n              node.raws.spaces.attribute.before = spaceBefore;\n              commentBefore = '';\n            }\n\n            node.namespace = (node.namespace || \"\") + content;\n            var rawValue = (0, _util.getProp)(node, 'raws', 'namespace') || null;\n\n            if (rawValue) {\n              node.raws.namespace += content;\n            }\n\n            lastAdded = 'namespace';\n          }\n\n          spaceAfterMeaningfulToken = false;\n          break;\n\n        case tokens.dollar:\n          if (lastAdded === \"value\") {\n            var oldRawValue = (0, _util.getProp)(node, 'raws', 'value');\n            node.value += \"$\";\n\n            if (oldRawValue) {\n              node.raws.value = oldRawValue + \"$\";\n            }\n\n            break;\n          }\n\n        // Falls through\n\n        case tokens.caret:\n          if (next[_tokenize.FIELDS.TYPE] === tokens.equals) {\n            node.operator = content;\n            lastAdded = 'operator';\n          }\n\n          spaceAfterMeaningfulToken = false;\n          break;\n\n        case tokens.combinator:\n          if (content === '~' && next[_tokenize.FIELDS.TYPE] === tokens.equals) {\n            node.operator = content;\n            lastAdded = 'operator';\n          }\n\n          if (content !== '|') {\n            spaceAfterMeaningfulToken = false;\n            break;\n          }\n\n          if (next[_tokenize.FIELDS.TYPE] === tokens.equals) {\n            node.operator = content;\n            lastAdded = 'operator';\n          } else if (!node.namespace && !node.attribute) {\n            node.namespace = true;\n          }\n\n          spaceAfterMeaningfulToken = false;\n          break;\n\n        case tokens.word:\n          if (next && this.content(next) === '|' && attr[pos + 2] && attr[pos + 2][_tokenize.FIELDS.TYPE] !== tokens.equals && // this look-ahead probably fails with comment nodes involved.\n          !node.operator && !node.namespace) {\n            node.namespace = content;\n            lastAdded = 'namespace';\n          } else if (!node.attribute || lastAdded === \"attribute\" && !spaceAfterMeaningfulToken) {\n            if (spaceBefore) {\n              (0, _util.ensureObject)(node, 'spaces', 'attribute');\n              node.spaces.attribute.before = spaceBefore;\n              spaceBefore = '';\n            }\n\n            if (commentBefore) {\n              (0, _util.ensureObject)(node, 'raws', 'spaces', 'attribute');\n              node.raws.spaces.attribute.before = commentBefore;\n              commentBefore = '';\n            }\n\n            node.attribute = (node.attribute || \"\") + content;\n\n            var _rawValue = (0, _util.getProp)(node, 'raws', 'attribute') || null;\n\n            if (_rawValue) {\n              node.raws.attribute += content;\n            }\n\n            lastAdded = 'attribute';\n          } else if (!node.value && node.value !== \"\" || lastAdded === \"value\" && !spaceAfterMeaningfulToken) {\n            var _unescaped = (0, _util.unesc)(content);\n\n            var _oldRawValue = (0, _util.getProp)(node, 'raws', 'value') || '';\n\n            var oldValue = node.value || '';\n            node.value = oldValue + _unescaped;\n            node.quoteMark = null;\n\n            if (_unescaped !== content || _oldRawValue) {\n              (0, _util.ensureObject)(node, 'raws');\n              node.raws.value = (_oldRawValue || oldValue) + content;\n            }\n\n            lastAdded = 'value';\n          } else {\n            var insensitive = content === 'i' || content === \"I\";\n\n            if ((node.value || node.value === '') && (node.quoteMark || spaceAfterMeaningfulToken)) {\n              node.insensitive = insensitive;\n\n              if (!insensitive || content === \"I\") {\n                (0, _util.ensureObject)(node, 'raws');\n                node.raws.insensitiveFlag = content;\n              }\n\n              lastAdded = 'insensitive';\n\n              if (spaceBefore) {\n                (0, _util.ensureObject)(node, 'spaces', 'insensitive');\n                node.spaces.insensitive.before = spaceBefore;\n                spaceBefore = '';\n              }\n\n              if (commentBefore) {\n                (0, _util.ensureObject)(node, 'raws', 'spaces', 'insensitive');\n                node.raws.spaces.insensitive.before = commentBefore;\n                commentBefore = '';\n              }\n            } else if (node.value || node.value === '') {\n              lastAdded = 'value';\n              node.value += content;\n\n              if (node.raws.value) {\n                node.raws.value += content;\n              }\n            }\n          }\n\n          spaceAfterMeaningfulToken = false;\n          break;\n\n        case tokens.str:\n          if (!node.attribute || !node.operator) {\n            return this.error(\"Expected an attribute followed by an operator preceding the string.\", {\n              index: token[_tokenize.FIELDS.START_POS]\n            });\n          }\n\n          var _unescapeValue = (0, _attribute.unescapeValue)(content),\n              unescaped = _unescapeValue.unescaped,\n              quoteMark = _unescapeValue.quoteMark;\n\n          node.value = unescaped;\n          node.quoteMark = quoteMark;\n          lastAdded = 'value';\n          (0, _util.ensureObject)(node, 'raws');\n          node.raws.value = content;\n          spaceAfterMeaningfulToken = false;\n          break;\n\n        case tokens.equals:\n          if (!node.attribute) {\n            return this.expected('attribute', token[_tokenize.FIELDS.START_POS], content);\n          }\n\n          if (node.value) {\n            return this.error('Unexpected \"=\" found; an operator was already defined.', {\n              index: token[_tokenize.FIELDS.START_POS]\n            });\n          }\n\n          node.operator = node.operator ? node.operator + content : content;\n          lastAdded = 'operator';\n          spaceAfterMeaningfulToken = false;\n          break;\n\n        case tokens.comment:\n          if (lastAdded) {\n            if (spaceAfterMeaningfulToken || next && next[_tokenize.FIELDS.TYPE] === tokens.space || lastAdded === 'insensitive') {\n              var lastComment = (0, _util.getProp)(node, 'spaces', lastAdded, 'after') || '';\n              var rawLastComment = (0, _util.getProp)(node, 'raws', 'spaces', lastAdded, 'after') || lastComment;\n              (0, _util.ensureObject)(node, 'raws', 'spaces', lastAdded);\n              node.raws.spaces[lastAdded].after = rawLastComment + content;\n            } else {\n              var lastValue = node[lastAdded] || '';\n              var rawLastValue = (0, _util.getProp)(node, 'raws', lastAdded) || lastValue;\n              (0, _util.ensureObject)(node, 'raws');\n              node.raws[lastAdded] = rawLastValue + content;\n            }\n          } else {\n            commentBefore = commentBefore + content;\n          }\n\n          break;\n\n        default:\n          return this.error(\"Unexpected \\\"\" + content + \"\\\" found.\", {\n            index: token[_tokenize.FIELDS.START_POS]\n          });\n      }\n\n      pos++;\n    }\n\n    unescapeProp(node, \"attribute\");\n    unescapeProp(node, \"namespace\");\n    this.newNode(new _attribute[\"default\"](node));\n    this.position++;\n  }\n  /**\n   * return a node containing meaningless garbage up to (but not including) the specified token position.\n   * if the token position is negative, all remaining tokens are consumed.\n   *\n   * This returns an array containing a single string node if all whitespace,\n   * otherwise an array of comment nodes with space before and after.\n   *\n   * These tokens are not added to the current selector, the caller can add them or use them to amend\n   * a previous node's space metadata.\n   *\n   * In lossy mode, this returns only comments.\n   */\n  ;\n\n  _proto.parseWhitespaceEquivalentTokens = function parseWhitespaceEquivalentTokens(stopPosition) {\n    if (stopPosition < 0) {\n      stopPosition = this.tokens.length;\n    }\n\n    var startPosition = this.position;\n    var nodes = [];\n    var space = \"\";\n    var lastComment = undefined;\n\n    do {\n      if (WHITESPACE_TOKENS[this.currToken[_tokenize.FIELDS.TYPE]]) {\n        if (!this.options.lossy) {\n          space += this.content();\n        }\n      } else if (this.currToken[_tokenize.FIELDS.TYPE] === tokens.comment) {\n        var spaces = {};\n\n        if (space) {\n          spaces.before = space;\n          space = \"\";\n        }\n\n        lastComment = new _comment[\"default\"]({\n          value: this.content(),\n          source: getTokenSource(this.currToken),\n          sourceIndex: this.currToken[_tokenize.FIELDS.START_POS],\n          spaces: spaces\n        });\n        nodes.push(lastComment);\n      }\n    } while (++this.position < stopPosition);\n\n    if (space) {\n      if (lastComment) {\n        lastComment.spaces.after = space;\n      } else if (!this.options.lossy) {\n        var firstToken = this.tokens[startPosition];\n        var lastToken = this.tokens[this.position - 1];\n        nodes.push(new _string[\"default\"]({\n          value: '',\n          source: getSource(firstToken[_tokenize.FIELDS.START_LINE], firstToken[_tokenize.FIELDS.START_COL], lastToken[_tokenize.FIELDS.END_LINE], lastToken[_tokenize.FIELDS.END_COL]),\n          sourceIndex: firstToken[_tokenize.FIELDS.START_POS],\n          spaces: {\n            before: space,\n            after: ''\n          }\n        }));\n      }\n    }\n\n    return nodes;\n  }\n  /**\n   * \n   * @param {*} nodes \n   */\n  ;\n\n  _proto.convertWhitespaceNodesToSpace = function convertWhitespaceNodesToSpace(nodes, requiredSpace) {\n    var _this2 = this;\n\n    if (requiredSpace === void 0) {\n      requiredSpace = false;\n    }\n\n    var space = \"\";\n    var rawSpace = \"\";\n    nodes.forEach(function (n) {\n      var spaceBefore = _this2.lossySpace(n.spaces.before, requiredSpace);\n\n      var rawSpaceBefore = _this2.lossySpace(n.rawSpaceBefore, requiredSpace);\n\n      space += spaceBefore + _this2.lossySpace(n.spaces.after, requiredSpace && spaceBefore.length === 0);\n      rawSpace += spaceBefore + n.value + _this2.lossySpace(n.rawSpaceAfter, requiredSpace && rawSpaceBefore.length === 0);\n    });\n\n    if (rawSpace === space) {\n      rawSpace = undefined;\n    }\n\n    var result = {\n      space: space,\n      rawSpace: rawSpace\n    };\n    return result;\n  };\n\n  _proto.isNamedCombinator = function isNamedCombinator(position) {\n    if (position === void 0) {\n      position = this.position;\n    }\n\n    return this.tokens[position + 0] && this.tokens[position + 0][_tokenize.FIELDS.TYPE] === tokens.slash && this.tokens[position + 1] && this.tokens[position + 1][_tokenize.FIELDS.TYPE] === tokens.word && this.tokens[position + 2] && this.tokens[position + 2][_tokenize.FIELDS.TYPE] === tokens.slash;\n  };\n\n  _proto.namedCombinator = function namedCombinator() {\n    if (this.isNamedCombinator()) {\n      var nameRaw = this.content(this.tokens[this.position + 1]);\n      var name = (0, _util.unesc)(nameRaw).toLowerCase();\n      var raws = {};\n\n      if (name !== nameRaw) {\n        raws.value = \"/\" + nameRaw + \"/\";\n      }\n\n      var node = new _combinator[\"default\"]({\n        value: \"/\" + name + \"/\",\n        source: getSource(this.currToken[_tokenize.FIELDS.START_LINE], this.currToken[_tokenize.FIELDS.START_COL], this.tokens[this.position + 2][_tokenize.FIELDS.END_LINE], this.tokens[this.position + 2][_tokenize.FIELDS.END_COL]),\n        sourceIndex: this.currToken[_tokenize.FIELDS.START_POS],\n        raws: raws\n      });\n      this.position = this.position + 3;\n      return node;\n    } else {\n      this.unexpected();\n    }\n  };\n\n  _proto.combinator = function combinator() {\n    var _this3 = this;\n\n    if (this.content() === '|') {\n      return this.namespace();\n    } // We need to decide between a space that's a descendant combinator and meaningless whitespace at the end of a selector.\n\n\n    var nextSigTokenPos = this.locateNextMeaningfulToken(this.position);\n\n    if (nextSigTokenPos < 0 || this.tokens[nextSigTokenPos][_tokenize.FIELDS.TYPE] === tokens.comma) {\n      var nodes = this.parseWhitespaceEquivalentTokens(nextSigTokenPos);\n\n      if (nodes.length > 0) {\n        var last = this.current.last;\n\n        if (last) {\n          var _this$convertWhitespa = this.convertWhitespaceNodesToSpace(nodes),\n              space = _this$convertWhitespa.space,\n              rawSpace = _this$convertWhitespa.rawSpace;\n\n          if (rawSpace !== undefined) {\n            last.rawSpaceAfter += rawSpace;\n          }\n\n          last.spaces.after += space;\n        } else {\n          nodes.forEach(function (n) {\n            return _this3.newNode(n);\n          });\n        }\n      }\n\n      return;\n    }\n\n    var firstToken = this.currToken;\n    var spaceOrDescendantSelectorNodes = undefined;\n\n    if (nextSigTokenPos > this.position) {\n      spaceOrDescendantSelectorNodes = this.parseWhitespaceEquivalentTokens(nextSigTokenPos);\n    }\n\n    var node;\n\n    if (this.isNamedCombinator()) {\n      node = this.namedCombinator();\n    } else if (this.currToken[_tokenize.FIELDS.TYPE] === tokens.combinator) {\n      node = new _combinator[\"default\"]({\n        value: this.content(),\n        source: getTokenSource(this.currToken),\n        sourceIndex: this.currToken[_tokenize.FIELDS.START_POS]\n      });\n      this.position++;\n    } else if (WHITESPACE_TOKENS[this.currToken[_tokenize.FIELDS.TYPE]]) {// pass\n    } else if (!spaceOrDescendantSelectorNodes) {\n      this.unexpected();\n    }\n\n    if (node) {\n      if (spaceOrDescendantSelectorNodes) {\n        var _this$convertWhitespa2 = this.convertWhitespaceNodesToSpace(spaceOrDescendantSelectorNodes),\n            _space = _this$convertWhitespa2.space,\n            _rawSpace = _this$convertWhitespa2.rawSpace;\n\n        node.spaces.before = _space;\n        node.rawSpaceBefore = _rawSpace;\n      }\n    } else {\n      // descendant combinator\n      var _this$convertWhitespa3 = this.convertWhitespaceNodesToSpace(spaceOrDescendantSelectorNodes, true),\n          _space2 = _this$convertWhitespa3.space,\n          _rawSpace2 = _this$convertWhitespa3.rawSpace;\n\n      if (!_rawSpace2) {\n        _rawSpace2 = _space2;\n      }\n\n      var spaces = {};\n      var raws = {\n        spaces: {}\n      };\n\n      if (_space2.endsWith(' ') && _rawSpace2.endsWith(' ')) {\n        spaces.before = _space2.slice(0, _space2.length - 1);\n        raws.spaces.before = _rawSpace2.slice(0, _rawSpace2.length - 1);\n      } else if (_space2.startsWith(' ') && _rawSpace2.startsWith(' ')) {\n        spaces.after = _space2.slice(1);\n        raws.spaces.after = _rawSpace2.slice(1);\n      } else {\n        raws.value = _rawSpace2;\n      }\n\n      node = new _combinator[\"default\"]({\n        value: ' ',\n        source: getTokenSourceSpan(firstToken, this.tokens[this.position - 1]),\n        sourceIndex: firstToken[_tokenize.FIELDS.START_POS],\n        spaces: spaces,\n        raws: raws\n      });\n    }\n\n    if (this.currToken && this.currToken[_tokenize.FIELDS.TYPE] === tokens.space) {\n      node.spaces.after = this.optionalSpace(this.content());\n      this.position++;\n    }\n\n    return this.newNode(node);\n  };\n\n  _proto.comma = function comma() {\n    if (this.position === this.tokens.length - 1) {\n      this.root.trailingComma = true;\n      this.position++;\n      return;\n    }\n\n    this.current._inferEndPosition();\n\n    var selector = new _selector[\"default\"]({\n      source: {\n        start: tokenStart(this.tokens[this.position + 1])\n      }\n    });\n    this.current.parent.append(selector);\n    this.current = selector;\n    this.position++;\n  };\n\n  _proto.comment = function comment() {\n    var current = this.currToken;\n    this.newNode(new _comment[\"default\"]({\n      value: this.content(),\n      source: getTokenSource(current),\n      sourceIndex: current[_tokenize.FIELDS.START_POS]\n    }));\n    this.position++;\n  };\n\n  _proto.error = function error(message, opts) {\n    throw this.root.error(message, opts);\n  };\n\n  _proto.missingBackslash = function missingBackslash() {\n    return this.error('Expected a backslash preceding the semicolon.', {\n      index: this.currToken[_tokenize.FIELDS.START_POS]\n    });\n  };\n\n  _proto.missingParenthesis = function missingParenthesis() {\n    return this.expected('opening parenthesis', this.currToken[_tokenize.FIELDS.START_POS]);\n  };\n\n  _proto.missingSquareBracket = function missingSquareBracket() {\n    return this.expected('opening square bracket', this.currToken[_tokenize.FIELDS.START_POS]);\n  };\n\n  _proto.unexpected = function unexpected() {\n    return this.error(\"Unexpected '\" + this.content() + \"'. Escaping special characters with \\\\ may help.\", this.currToken[_tokenize.FIELDS.START_POS]);\n  };\n\n  _proto.namespace = function namespace() {\n    var before = this.prevToken && this.content(this.prevToken) || true;\n\n    if (this.nextToken[_tokenize.FIELDS.TYPE] === tokens.word) {\n      this.position++;\n      return this.word(before);\n    } else if (this.nextToken[_tokenize.FIELDS.TYPE] === tokens.asterisk) {\n      this.position++;\n      return this.universal(before);\n    }\n  };\n\n  _proto.nesting = function nesting() {\n    if (this.nextToken) {\n      var nextContent = this.content(this.nextToken);\n\n      if (nextContent === \"|\") {\n        this.position++;\n        return;\n      }\n    }\n\n    var current = this.currToken;\n    this.newNode(new _nesting[\"default\"]({\n      value: this.content(),\n      source: getTokenSource(current),\n      sourceIndex: current[_tokenize.FIELDS.START_POS]\n    }));\n    this.position++;\n  };\n\n  _proto.parentheses = function parentheses() {\n    var last = this.current.last;\n    var unbalanced = 1;\n    this.position++;\n\n    if (last && last.type === types.PSEUDO) {\n      var selector = new _selector[\"default\"]({\n        source: {\n          start: tokenStart(this.tokens[this.position - 1])\n        }\n      });\n      var cache = this.current;\n      last.append(selector);\n      this.current = selector;\n\n      while (this.position < this.tokens.length && unbalanced) {\n        if (this.currToken[_tokenize.FIELDS.TYPE] === tokens.openParenthesis) {\n          unbalanced++;\n        }\n\n        if (this.currToken[_tokenize.FIELDS.TYPE] === tokens.closeParenthesis) {\n          unbalanced--;\n        }\n\n        if (unbalanced) {\n          this.parse();\n        } else {\n          this.current.source.end = tokenEnd(this.currToken);\n          this.current.parent.source.end = tokenEnd(this.currToken);\n          this.position++;\n        }\n      }\n\n      this.current = cache;\n    } else {\n      // I think this case should be an error. It's used to implement a basic parse of media queries\n      // but I don't think it's a good idea.\n      var parenStart = this.currToken;\n      var parenValue = \"(\";\n      var parenEnd;\n\n      while (this.position < this.tokens.length && unbalanced) {\n        if (this.currToken[_tokenize.FIELDS.TYPE] === tokens.openParenthesis) {\n          unbalanced++;\n        }\n\n        if (this.currToken[_tokenize.FIELDS.TYPE] === tokens.closeParenthesis) {\n          unbalanced--;\n        }\n\n        parenEnd = this.currToken;\n        parenValue += this.parseParenthesisToken(this.currToken);\n        this.position++;\n      }\n\n      if (last) {\n        last.appendToPropertyAndEscape(\"value\", parenValue, parenValue);\n      } else {\n        this.newNode(new _string[\"default\"]({\n          value: parenValue,\n          source: getSource(parenStart[_tokenize.FIELDS.START_LINE], parenStart[_tokenize.FIELDS.START_COL], parenEnd[_tokenize.FIELDS.END_LINE], parenEnd[_tokenize.FIELDS.END_COL]),\n          sourceIndex: parenStart[_tokenize.FIELDS.START_POS]\n        }));\n      }\n    }\n\n    if (unbalanced) {\n      return this.expected('closing parenthesis', this.currToken[_tokenize.FIELDS.START_POS]);\n    }\n  };\n\n  _proto.pseudo = function pseudo() {\n    var _this4 = this;\n\n    var pseudoStr = '';\n    var startingToken = this.currToken;\n\n    while (this.currToken && this.currToken[_tokenize.FIELDS.TYPE] === tokens.colon) {\n      pseudoStr += this.content();\n      this.position++;\n    }\n\n    if (!this.currToken) {\n      return this.expected(['pseudo-class', 'pseudo-element'], this.position - 1);\n    }\n\n    if (this.currToken[_tokenize.FIELDS.TYPE] === tokens.word) {\n      this.splitWord(false, function (first, length) {\n        pseudoStr += first;\n\n        _this4.newNode(new _pseudo[\"default\"]({\n          value: pseudoStr,\n          source: getTokenSourceSpan(startingToken, _this4.currToken),\n          sourceIndex: startingToken[_tokenize.FIELDS.START_POS]\n        }));\n\n        if (length > 1 && _this4.nextToken && _this4.nextToken[_tokenize.FIELDS.TYPE] === tokens.openParenthesis) {\n          _this4.error('Misplaced parenthesis.', {\n            index: _this4.nextToken[_tokenize.FIELDS.START_POS]\n          });\n        }\n      });\n    } else {\n      return this.expected(['pseudo-class', 'pseudo-element'], this.currToken[_tokenize.FIELDS.START_POS]);\n    }\n  };\n\n  _proto.space = function space() {\n    var content = this.content(); // Handle space before and after the selector\n\n    if (this.position === 0 || this.prevToken[_tokenize.FIELDS.TYPE] === tokens.comma || this.prevToken[_tokenize.FIELDS.TYPE] === tokens.openParenthesis || this.current.nodes.every(function (node) {\n      return node.type === 'comment';\n    })) {\n      this.spaces = this.optionalSpace(content);\n      this.position++;\n    } else if (this.position === this.tokens.length - 1 || this.nextToken[_tokenize.FIELDS.TYPE] === tokens.comma || this.nextToken[_tokenize.FIELDS.TYPE] === tokens.closeParenthesis) {\n      this.current.last.spaces.after = this.optionalSpace(content);\n      this.position++;\n    } else {\n      this.combinator();\n    }\n  };\n\n  _proto.string = function string() {\n    var current = this.currToken;\n    this.newNode(new _string[\"default\"]({\n      value: this.content(),\n      source: getTokenSource(current),\n      sourceIndex: current[_tokenize.FIELDS.START_POS]\n    }));\n    this.position++;\n  };\n\n  _proto.universal = function universal(namespace) {\n    var nextToken = this.nextToken;\n\n    if (nextToken && this.content(nextToken) === '|') {\n      this.position++;\n      return this.namespace();\n    }\n\n    var current = this.currToken;\n    this.newNode(new _universal[\"default\"]({\n      value: this.content(),\n      source: getTokenSource(current),\n      sourceIndex: current[_tokenize.FIELDS.START_POS]\n    }), namespace);\n    this.position++;\n  };\n\n  _proto.splitWord = function splitWord(namespace, firstCallback) {\n    var _this5 = this;\n\n    var nextToken = this.nextToken;\n    var word = this.content();\n\n    while (nextToken && ~[tokens.dollar, tokens.caret, tokens.equals, tokens.word].indexOf(nextToken[_tokenize.FIELDS.TYPE])) {\n      this.position++;\n      var current = this.content();\n      word += current;\n\n      if (current.lastIndexOf('\\\\') === current.length - 1) {\n        var next = this.nextToken;\n\n        if (next && next[_tokenize.FIELDS.TYPE] === tokens.space) {\n          word += this.requiredSpace(this.content(next));\n          this.position++;\n        }\n      }\n\n      nextToken = this.nextToken;\n    }\n\n    var hasClass = indexesOf(word, '.').filter(function (i) {\n      // Allow escaped dot within class name\n      var escapedDot = word[i - 1] === '\\\\'; // Allow decimal numbers percent in @keyframes\n\n      var isKeyframesPercent = /^\\d+\\.\\d+%$/.test(word);\n      return !escapedDot && !isKeyframesPercent;\n    });\n    var hasId = indexesOf(word, '#').filter(function (i) {\n      return word[i - 1] !== '\\\\';\n    }); // Eliminate Sass interpolations from the list of id indexes\n\n    var interpolations = indexesOf(word, '#{');\n\n    if (interpolations.length) {\n      hasId = hasId.filter(function (hashIndex) {\n        return !~interpolations.indexOf(hashIndex);\n      });\n    }\n\n    var indices = (0, _sortAscending[\"default\"])(uniqs([0].concat(hasClass, hasId)));\n    indices.forEach(function (ind, i) {\n      var index = indices[i + 1] || word.length;\n      var value = word.slice(ind, index);\n\n      if (i === 0 && firstCallback) {\n        return firstCallback.call(_this5, value, indices.length);\n      }\n\n      var node;\n      var current = _this5.currToken;\n      var sourceIndex = current[_tokenize.FIELDS.START_POS] + indices[i];\n      var source = getSource(current[1], current[2] + ind, current[3], current[2] + (index - 1));\n\n      if (~hasClass.indexOf(ind)) {\n        var classNameOpts = {\n          value: value.slice(1),\n          source: source,\n          sourceIndex: sourceIndex\n        };\n        node = new _className[\"default\"](unescapeProp(classNameOpts, \"value\"));\n      } else if (~hasId.indexOf(ind)) {\n        var idOpts = {\n          value: value.slice(1),\n          source: source,\n          sourceIndex: sourceIndex\n        };\n        node = new _id[\"default\"](unescapeProp(idOpts, \"value\"));\n      } else {\n        var tagOpts = {\n          value: value,\n          source: source,\n          sourceIndex: sourceIndex\n        };\n        unescapeProp(tagOpts, \"value\");\n        node = new _tag[\"default\"](tagOpts);\n      }\n\n      _this5.newNode(node, namespace); // Ensure that the namespace is used only once\n\n\n      namespace = null;\n    });\n    this.position++;\n  };\n\n  _proto.word = function word(namespace) {\n    var nextToken = this.nextToken;\n\n    if (nextToken && this.content(nextToken) === '|') {\n      this.position++;\n      return this.namespace();\n    }\n\n    return this.splitWord(namespace);\n  };\n\n  _proto.loop = function loop() {\n    while (this.position < this.tokens.length) {\n      this.parse(true);\n    }\n\n    this.current._inferEndPosition();\n\n    return this.root;\n  };\n\n  _proto.parse = function parse(throwOnParenthesis) {\n    switch (this.currToken[_tokenize.FIELDS.TYPE]) {\n      case tokens.space:\n        this.space();\n        break;\n\n      case tokens.comment:\n        this.comment();\n        break;\n\n      case tokens.openParenthesis:\n        this.parentheses();\n        break;\n\n      case tokens.closeParenthesis:\n        if (throwOnParenthesis) {\n          this.missingParenthesis();\n        }\n\n        break;\n\n      case tokens.openSquare:\n        this.attribute();\n        break;\n\n      case tokens.dollar:\n      case tokens.caret:\n      case tokens.equals:\n      case tokens.word:\n        this.word();\n        break;\n\n      case tokens.colon:\n        this.pseudo();\n        break;\n\n      case tokens.comma:\n        this.comma();\n        break;\n\n      case tokens.asterisk:\n        this.universal();\n        break;\n\n      case tokens.ampersand:\n        this.nesting();\n        break;\n\n      case tokens.slash:\n      case tokens.combinator:\n        this.combinator();\n        break;\n\n      case tokens.str:\n        this.string();\n        break;\n      // These cases throw; no break needed.\n\n      case tokens.closeSquare:\n        this.missingSquareBracket();\n\n      case tokens.semicolon:\n        this.missingBackslash();\n\n      default:\n        this.unexpected();\n    }\n  }\n  /**\n   * Helpers\n   */\n  ;\n\n  _proto.expected = function expected(description, index, found) {\n    if (Array.isArray(description)) {\n      var last = description.pop();\n      description = description.join(', ') + \" or \" + last;\n    }\n\n    var an = /^[aeiou]/.test(description[0]) ? 'an' : 'a';\n\n    if (!found) {\n      return this.error(\"Expected \" + an + \" \" + description + \".\", {\n        index: index\n      });\n    }\n\n    return this.error(\"Expected \" + an + \" \" + description + \", found \\\"\" + found + \"\\\" instead.\", {\n      index: index\n    });\n  };\n\n  _proto.requiredSpace = function requiredSpace(space) {\n    return this.options.lossy ? ' ' : space;\n  };\n\n  _proto.optionalSpace = function optionalSpace(space) {\n    return this.options.lossy ? '' : space;\n  };\n\n  _proto.lossySpace = function lossySpace(space, required) {\n    if (this.options.lossy) {\n      return required ? ' ' : '';\n    } else {\n      return space;\n    }\n  };\n\n  _proto.parseParenthesisToken = function parseParenthesisToken(token) {\n    var content = this.content(token);\n\n    if (token[_tokenize.FIELDS.TYPE] === tokens.space) {\n      return this.requiredSpace(content);\n    } else {\n      return content;\n    }\n  };\n\n  _proto.newNode = function newNode(node, namespace) {\n    if (namespace) {\n      if (/^ +$/.test(namespace)) {\n        if (!this.options.lossy) {\n          this.spaces = (this.spaces || '') + namespace;\n        }\n\n        namespace = true;\n      }\n\n      node.namespace = namespace;\n      unescapeProp(node, \"namespace\");\n    }\n\n    if (this.spaces) {\n      node.spaces.before = this.spaces;\n      this.spaces = '';\n    }\n\n    return this.current.append(node);\n  };\n\n  _proto.content = function content(token) {\n    if (token === void 0) {\n      token = this.currToken;\n    }\n\n    return this.css.slice(token[_tokenize.FIELDS.START_POS], token[_tokenize.FIELDS.END_POS]);\n  };\n\n  /**\n   * returns the index of the next non-whitespace, non-comment token.\n   * returns -1 if no meaningful token is found.\n   */\n  _proto.locateNextMeaningfulToken = function locateNextMeaningfulToken(startPosition) {\n    if (startPosition === void 0) {\n      startPosition = this.position + 1;\n    }\n\n    var searchPosition = startPosition;\n\n    while (searchPosition < this.tokens.length) {\n      if (WHITESPACE_EQUIV_TOKENS[this.tokens[searchPosition][_tokenize.FIELDS.TYPE]]) {\n        searchPosition++;\n        continue;\n      } else {\n        return searchPosition;\n      }\n    }\n\n    return -1;\n  };\n\n  _createClass(Parser, [{\n    key: \"currToken\",\n    get: function get() {\n      return this.tokens[this.position];\n    }\n  }, {\n    key: \"nextToken\",\n    get: function get() {\n      return this.tokens[this.position + 1];\n    }\n  }, {\n    key: \"prevToken\",\n    get: function get() {\n      return this.tokens[this.position - 1];\n    }\n  }]);\n\n  return Parser;\n}();\n\nexports[\"default\"] = Parser;\nmodule.exports = exports.default;","\"use strict\";\n\nexports.__esModule = true;\nexports[\"default\"] = void 0;\n\nvar _parser = _interopRequireDefault(require(\"./parser\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar Processor = /*#__PURE__*/function () {\n  function Processor(func, options) {\n    this.func = func || function noop() {};\n\n    this.funcRes = null;\n    this.options = options;\n  }\n\n  var _proto = Processor.prototype;\n\n  _proto._shouldUpdateSelector = function _shouldUpdateSelector(rule, options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    var merged = Object.assign({}, this.options, options);\n\n    if (merged.updateSelector === false) {\n      return false;\n    } else {\n      return typeof rule !== \"string\";\n    }\n  };\n\n  _proto._isLossy = function _isLossy(options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    var merged = Object.assign({}, this.options, options);\n\n    if (merged.lossless === false) {\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  _proto._root = function _root(rule, options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    var parser = new _parser[\"default\"](rule, this._parseOptions(options));\n    return parser.root;\n  };\n\n  _proto._parseOptions = function _parseOptions(options) {\n    return {\n      lossy: this._isLossy(options)\n    };\n  };\n\n  _proto._run = function _run(rule, options) {\n    var _this = this;\n\n    if (options === void 0) {\n      options = {};\n    }\n\n    return new Promise(function (resolve, reject) {\n      try {\n        var root = _this._root(rule, options);\n\n        Promise.resolve(_this.func(root)).then(function (transform) {\n          var string = undefined;\n\n          if (_this._shouldUpdateSelector(rule, options)) {\n            string = root.toString();\n            rule.selector = string;\n          }\n\n          return {\n            transform: transform,\n            root: root,\n            string: string\n          };\n        }).then(resolve, reject);\n      } catch (e) {\n        reject(e);\n        return;\n      }\n    });\n  };\n\n  _proto._runSync = function _runSync(rule, options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    var root = this._root(rule, options);\n\n    var transform = this.func(root);\n\n    if (transform && typeof transform.then === \"function\") {\n      throw new Error(\"Selector processor returned a promise to a synchronous call.\");\n    }\n\n    var string = undefined;\n\n    if (options.updateSelector && typeof rule !== \"string\") {\n      string = root.toString();\n      rule.selector = string;\n    }\n\n    return {\n      transform: transform,\n      root: root,\n      string: string\n    };\n  }\n  /**\n   * Process rule into a selector AST.\n   *\n   * @param rule {postcss.Rule | string} The css selector to be processed\n   * @param options The options for processing\n   * @returns {Promise<parser.Root>} The AST of the selector after processing it.\n   */\n  ;\n\n  _proto.ast = function ast(rule, options) {\n    return this._run(rule, options).then(function (result) {\n      return result.root;\n    });\n  }\n  /**\n   * Process rule into a selector AST synchronously.\n   *\n   * @param rule {postcss.Rule | string} The css selector to be processed\n   * @param options The options for processing\n   * @returns {parser.Root} The AST of the selector after processing it.\n   */\n  ;\n\n  _proto.astSync = function astSync(rule, options) {\n    return this._runSync(rule, options).root;\n  }\n  /**\n   * Process a selector into a transformed value asynchronously\n   *\n   * @param rule {postcss.Rule | string} The css selector to be processed\n   * @param options The options for processing\n   * @returns {Promise<any>} The value returned by the processor.\n   */\n  ;\n\n  _proto.transform = function transform(rule, options) {\n    return this._run(rule, options).then(function (result) {\n      return result.transform;\n    });\n  }\n  /**\n   * Process a selector into a transformed value synchronously.\n   *\n   * @param rule {postcss.Rule | string} The css selector to be processed\n   * @param options The options for processing\n   * @returns {any} The value returned by the processor.\n   */\n  ;\n\n  _proto.transformSync = function transformSync(rule, options) {\n    return this._runSync(rule, options).transform;\n  }\n  /**\n   * Process a selector into a new selector string asynchronously.\n   *\n   * @param rule {postcss.Rule | string} The css selector to be processed\n   * @param options The options for processing\n   * @returns {string} the selector after processing.\n   */\n  ;\n\n  _proto.process = function process(rule, options) {\n    return this._run(rule, options).then(function (result) {\n      return result.string || result.root.toString();\n    });\n  }\n  /**\n   * Process a selector into a new selector string synchronously.\n   *\n   * @param rule {postcss.Rule | string} The css selector to be processed\n   * @param options The options for processing\n   * @returns {string} the selector after processing.\n   */\n  ;\n\n  _proto.processSync = function processSync(rule, options) {\n    var result = this._runSync(rule, options);\n\n    return result.string || result.root.toString();\n  };\n\n  return Processor;\n}();\n\nexports[\"default\"] = Processor;\nmodule.exports = exports.default;","\"use strict\";\n\nexports.__esModule = true;\nexports.universal = exports.tag = exports.string = exports.selector = exports.root = exports.pseudo = exports.nesting = exports.id = exports.comment = exports.combinator = exports.className = exports.attribute = void 0;\n\nvar _attribute = _interopRequireDefault(require(\"./attribute\"));\n\nvar _className = _interopRequireDefault(require(\"./className\"));\n\nvar _combinator = _interopRequireDefault(require(\"./combinator\"));\n\nvar _comment = _interopRequireDefault(require(\"./comment\"));\n\nvar _id = _interopRequireDefault(require(\"./id\"));\n\nvar _nesting = _interopRequireDefault(require(\"./nesting\"));\n\nvar _pseudo = _interopRequireDefault(require(\"./pseudo\"));\n\nvar _root = _interopRequireDefault(require(\"./root\"));\n\nvar _selector = _interopRequireDefault(require(\"./selector\"));\n\nvar _string = _interopRequireDefault(require(\"./string\"));\n\nvar _tag = _interopRequireDefault(require(\"./tag\"));\n\nvar _universal = _interopRequireDefault(require(\"./universal\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar attribute = function attribute(opts) {\n  return new _attribute[\"default\"](opts);\n};\n\nexports.attribute = attribute;\n\nvar className = function className(opts) {\n  return new _className[\"default\"](opts);\n};\n\nexports.className = className;\n\nvar combinator = function combinator(opts) {\n  return new _combinator[\"default\"](opts);\n};\n\nexports.combinator = combinator;\n\nvar comment = function comment(opts) {\n  return new _comment[\"default\"](opts);\n};\n\nexports.comment = comment;\n\nvar id = function id(opts) {\n  return new _id[\"default\"](opts);\n};\n\nexports.id = id;\n\nvar nesting = function nesting(opts) {\n  return new _nesting[\"default\"](opts);\n};\n\nexports.nesting = nesting;\n\nvar pseudo = function pseudo(opts) {\n  return new _pseudo[\"default\"](opts);\n};\n\nexports.pseudo = pseudo;\n\nvar root = function root(opts) {\n  return new _root[\"default\"](opts);\n};\n\nexports.root = root;\n\nvar selector = function selector(opts) {\n  return new _selector[\"default\"](opts);\n};\n\nexports.selector = selector;\n\nvar string = function string(opts) {\n  return new _string[\"default\"](opts);\n};\n\nexports.string = string;\n\nvar tag = function tag(opts) {\n  return new _tag[\"default\"](opts);\n};\n\nexports.tag = tag;\n\nvar universal = function universal(opts) {\n  return new _universal[\"default\"](opts);\n};\n\nexports.universal = universal;","\"use strict\";\n\nexports.__esModule = true;\nexports.isNode = isNode;\nexports.isPseudoElement = isPseudoElement;\nexports.isPseudoClass = isPseudoClass;\nexports.isContainer = isContainer;\nexports.isNamespace = isNamespace;\nexports.isUniversal = exports.isTag = exports.isString = exports.isSelector = exports.isRoot = exports.isPseudo = exports.isNesting = exports.isIdentifier = exports.isComment = exports.isCombinator = exports.isClassName = exports.isAttribute = void 0;\n\nvar _types = require(\"./types\");\n\nvar _IS_TYPE;\n\nvar IS_TYPE = (_IS_TYPE = {}, _IS_TYPE[_types.ATTRIBUTE] = true, _IS_TYPE[_types.CLASS] = true, _IS_TYPE[_types.COMBINATOR] = true, _IS_TYPE[_types.COMMENT] = true, _IS_TYPE[_types.ID] = true, _IS_TYPE[_types.NESTING] = true, _IS_TYPE[_types.PSEUDO] = true, _IS_TYPE[_types.ROOT] = true, _IS_TYPE[_types.SELECTOR] = true, _IS_TYPE[_types.STRING] = true, _IS_TYPE[_types.TAG] = true, _IS_TYPE[_types.UNIVERSAL] = true, _IS_TYPE);\n\nfunction isNode(node) {\n  return typeof node === \"object\" && IS_TYPE[node.type];\n}\n\nfunction isNodeType(type, node) {\n  return isNode(node) && node.type === type;\n}\n\nvar isAttribute = isNodeType.bind(null, _types.ATTRIBUTE);\nexports.isAttribute = isAttribute;\nvar isClassName = isNodeType.bind(null, _types.CLASS);\nexports.isClassName = isClassName;\nvar isCombinator = isNodeType.bind(null, _types.COMBINATOR);\nexports.isCombinator = isCombinator;\nvar isComment = isNodeType.bind(null, _types.COMMENT);\nexports.isComment = isComment;\nvar isIdentifier = isNodeType.bind(null, _types.ID);\nexports.isIdentifier = isIdentifier;\nvar isNesting = isNodeType.bind(null, _types.NESTING);\nexports.isNesting = isNesting;\nvar isPseudo = isNodeType.bind(null, _types.PSEUDO);\nexports.isPseudo = isPseudo;\nvar isRoot = isNodeType.bind(null, _types.ROOT);\nexports.isRoot = isRoot;\nvar isSelector = isNodeType.bind(null, _types.SELECTOR);\nexports.isSelector = isSelector;\nvar isString = isNodeType.bind(null, _types.STRING);\nexports.isString = isString;\nvar isTag = isNodeType.bind(null, _types.TAG);\nexports.isTag = isTag;\nvar isUniversal = isNodeType.bind(null, _types.UNIVERSAL);\nexports.isUniversal = isUniversal;\n\nfunction isPseudoElement(node) {\n  return isPseudo(node) && node.value && (node.value.startsWith(\"::\") || node.value.toLowerCase() === \":before\" || node.value.toLowerCase() === \":after\");\n}\n\nfunction isPseudoClass(node) {\n  return isPseudo(node) && !isPseudoElement(node);\n}\n\nfunction isContainer(node) {\n  return !!(isNode(node) && node.walk);\n}\n\nfunction isNamespace(node) {\n  return isAttribute(node) || isTag(node);\n}","\"use strict\";\n\nexports.__esModule = true;\n\nvar _types = require(\"./types\");\n\nObject.keys(_types).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _types[key]) return;\n  exports[key] = _types[key];\n});\n\nvar _constructors = require(\"./constructors\");\n\nObject.keys(_constructors).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _constructors[key]) return;\n  exports[key] = _constructors[key];\n});\n\nvar _guards = require(\"./guards\");\n\nObject.keys(_guards).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _guards[key]) return;\n  exports[key] = _guards[key];\n});","\"use strict\";\n\nexports.__esModule = true;\nexports[\"default\"] = void 0;\n\nvar _processor = _interopRequireDefault(require(\"./processor\"));\n\nvar selectors = _interopRequireWildcard(require(\"./selectors\"));\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar parser = function parser(processor) {\n  return new _processor[\"default\"](processor);\n};\n\nObject.assign(parser, selectors);\ndelete parser.__esModule;\nvar _default = parser;\nexports[\"default\"] = _default;\nmodule.exports = exports.default;","import parser from 'postcss-selector-parser';\n\nexport default function mergeSelectors(fromSelectors, toSelectors) {\n\tlet complexFromSelector = false;\n\tlet fromSelectorIsList = fromSelectors.length > 1;\n\tconst fromSelectorAST = parser().astSync(fromSelectors.join(','));\n\tconst fromSelectorWithIsAST = parser().astSync(`:is(${fromSelectors.join(',')})`);\n\n\tlet fromSelectorCounterAST = 0;\n\tfromSelectorAST.walk((x) => {\n\t\tif (x.type === 'root') {\n\t\t\treturn;\n\t\t}\n\n\t\tfromSelectorCounterAST++;\n\t});\n\n\tif (fromSelectorCounterAST > 2) {\n\t\tcomplexFromSelector = true;\n\t}\n\n\treturn toSelectors.map((toSelector) => {\n\t\treturn parser((selectors) => {\n\t\t\tselectors.walkNesting((selector) => {\n\t\t\t\tif (fromSelectorIsList) {\n\t\t\t\t\tselector.replaceWith(fromSelectorWithIsAST.clone());\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// foo &foo foo & baz -> foo &:is(foo) foo & baz\n\t\t\t\tif (\n\t\t\t\t\tselector.next() &&\n\t\t\t\t\tselector.next().type === 'tag'\n\t\t\t\t) {\n\t\t\t\t\tconst isPseudo = parser.pseudo({ value: ':is' });\n\t\t\t\t\tisPseudo.append(selector.next().clone());\n\t\t\t\t\tselector.next().replaceWith(isPseudo);\n\n\t\t\t\t\tif (complexFromSelector) {\n\t\t\t\t\t\tselector.replaceWith(fromSelectorWithIsAST.clone());\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tselector.replaceWith(fromSelectorAST.clone());\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// h1 and foo can combine to fooh1|h1foo which would be a different selector.\n\t\t\t\t// h1 and .foo can combine to .fooh1 which would be a different selector.\n\t\t\t\t// h1 { .foo& {} } -> h1.foo: {}\n\t\t\t\t// h1 { foo& {} } -> foo:is(h1) {}\n\t\t\t\tif (\n\t\t\t\t\tselector.prev() &&\n\t\t\t\t\tselector.prev().type !== 'combinator' &&\n\t\t\t\t\tfromSelectorAST.first &&\n\t\t\t\t\tfromSelectorAST.first.first &&\n\t\t\t\t\tfromSelectorAST.first.first.type === 'tag'\n\t\t\t\t) {\n\t\t\t\t\tif (complexFromSelector) {\n\t\t\t\t\t\tselector.replaceWith(fromSelectorWithIsAST.clone());\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet firstPrecedingNonCombinatorNode = selector.prev();\n\t\t\t\t\twhile (firstPrecedingNonCombinatorNode.prev() && firstPrecedingNonCombinatorNode.prev().type !== 'combinator') {\n\t\t\t\t\t\tfirstPrecedingNonCombinatorNode = firstPrecedingNonCombinatorNode.prev();\n\t\t\t\t\t}\n\n\t\t\t\t\tif (firstPrecedingNonCombinatorNode.type !== 'tag') {\n\t\t\t\t\t\t// Safe to just prepend the parent selector.\n\t\t\t\t\t\t// h1 { .foo& {} } -> h1.foo: {}\n\t\t\t\t\t\tselector.parent.insertBefore(firstPrecedingNonCombinatorNode, fromSelectorAST.clone());\n\t\t\t\t\t\tselector.remove();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Unsafe -> wrapping the parent selector in :is().\n\t\t\t\t\t// h1 { foo& {} } -> foo:is(h1) {}\n\t\t\t\t\tconst isPseudo = parser.pseudo({ value: ':is' });\n\t\t\t\t\tisPseudo.append(fromSelectorAST.clone());\n\t\t\t\t\tselector.replaceWith(isPseudo);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tselector.replaceWith(fromSelectorAST.clone());\n\t\t\t});\n\t\t}).processSync(toSelector);\n\t});\n}\n","import shiftNodesBeforeParent from './shift-nodes-before-parent.js';\nimport cleanupParent from './cleanup-parent.js';\nimport mergeSelectors from './merge-selectors.js';\n\nexport default function transformRuleWithinRule(node) {\n\t// move previous siblings and the node to before the parent\n\tconst parent = shiftNodesBeforeParent(node);\n\n\t// update the selectors of the node to be merged with the parent\n\tnode.selectors = mergeSelectors(parent.selectors, node.selectors);\n\n\t// merge similar rules back together\n\tconst areSameRule = (node.type === 'rule' && parent.type === 'rule' && node.selector === parent.selector) || (node.type === 'atrule' && parent.type === 'atrule' && node.params === parent.params);\n\n\tif (areSameRule) {\n\t\tnode.append(...parent.nodes);\n\t}\n\n\t// conditionally cleanup an empty parent rule\n\tcleanupParent(parent);\n}\n\nexport const isRuleWithinRule = (node) => node.type === 'rule' && Object(node.parent).type === 'rule' && node.selectors.every((selector) => selector.trim().indexOf('&') === 0 && selector.indexOf('|') === -1);\n","export const comma = (string) => {\n\tlet array = [];\n\tlet current = '';\n\tlet split = false;\n\n\tlet func = 0;\n\tlet quote = false;\n\tlet escape = false;\n\n\tfor (let letter of string) {\n\t\tif (escape) {\n\t\t\tescape = false;\n\t\t} else if (letter === '\\\\') {\n\t\t\tescape = true;\n\t\t} else if (quote) {\n\t\t\tif (letter === quote) {\n\t\t\t\tquote = false;\n\t\t\t}\n\t\t} else if (letter === '\"' || letter === '\\'') {\n\t\t\tquote = letter;\n\t\t} else if (letter === '(') {\n\t\t\tfunc += 1;\n\t\t} else if (letter === ')') {\n\t\t\tif (func > 0) func -= 1;\n\t\t} else if (func === 0) {\n\t\t\tif (letter === ',') split = true;\n\t\t}\n\n\t\tif (split) {\n\t\t\tif (current !== '') array.push(current.trim());\n\t\t\tcurrent = '';\n\t\t\tsplit = false;\n\t\t} else {\n\t\t\tcurrent += letter;\n\t\t}\n\t}\n\n\tarray.push(current.trim());\n\treturn array;\n};\n","import { comma } from './list.js';\nimport shiftNodesBeforeParent from './shift-nodes-before-parent.js';\nimport cleanupParent from './cleanup-parent.js';\nimport mergeSelectors from './merge-selectors.js';\n\nexport default function transformNestRuleWithinRule(node, walk) {\n\t// move previous siblings and the node to before the parent\n\tconst parent = shiftNodesBeforeParent(node);\n\n\t// clone the parent as a new rule with children appended to it\n\tconst rule = parent.clone().removeAll().append(node.nodes);\n\n\t// replace the node with the new rule\n\tnode.replaceWith(rule);\n\n\t// update the selectors of the node to be merged with the parent\n\trule.selectors = mergeSelectors(parent.selectors, comma(node.params));\n\n\t// conditionally cleanup an empty parent rule\n\tcleanupParent(parent);\n\n\t// walk the children of the new rule\n\twalk(rule);\n}\n\nexport const isNestRuleWithinRule = (node) => node.type === 'atrule' && node.name === 'nest' && Object(node.parent).type === 'rule' && comma(node.params).every((selector) => selector.split('&').length >= 2 && selector.indexOf('|') === -1);\n","export default ['container', 'document', 'media', 'supports'];\n","import cleanupParent from './cleanup-parent.js';\nimport shiftNodesBeforeParent from './shift-nodes-before-parent.js';\nimport validAtrules from './valid-atrules.js';\n\nexport default function atruleWithinRule(node, walk) {\n\t// move previous siblings and the node to before the parent\n\tconst parent = shiftNodesBeforeParent(node);\n\n\t// clone the parent as a new rule with children appended to it\n\tconst rule = parent.clone().removeAll().append(node.nodes);\n\n\t// append the new rule to the node\n\tnode.append(rule);\n\n\t// conditionally cleanup an empty parent rule\n\tcleanupParent(parent);\n\n\t// walk the children of the new rule\n\twalk(rule);\n}\n\nexport const isAtruleWithinRule = (node) => node.type === 'atrule' && validAtrules.includes(node.name) && Object(node.parent).type === 'rule';\n","import { comma } from './list.js';\n\nexport default function mergeParams(fromParams, toParams) {\n\treturn comma(fromParams)\n\t\t.map((params1) =>\n\t\t\tcomma(toParams)\n\t\t\t\t.map((params2) => `${params1} and ${params2}`)\n\t\t\t\t.join(', '),\n\t\t)\n\t\t.join(', ');\n}\n","import cleanupParent from './cleanup-parent.js';\nimport mergeParams from './merge-params.js';\nimport shiftNodesBeforeParent from './shift-nodes-before-parent.js';\nimport validAtrules from './valid-atrules.js';\n\n/*\n * DEPRECATED: In v7.0.0 these features will be removed as they are not part of\n * the nesting proposal.\n */\n\nexport default function transformAtruleWithinAtrule(node) {\n\t// move previous siblings and the node to before the parent\n\tconst parent = shiftNodesBeforeParent(node);\n\n\t// update the params of the node to be merged with the parent\n\tnode.params = mergeParams(parent.params, node.params);\n\n\t// conditionally cleanup an empty parent rule\n\tcleanupParent(parent);\n}\n\nexport const isAtruleWithinAtrule = (node) => node.type === 'atrule' && validAtrules.includes(node.name) && Object(node.parent).type === 'atrule' && node.name === node.parent.name;\n","import transformRuleWithinRule, { isRuleWithinRule } from './rule-within-rule.js';\nimport transformNestRuleWithinRule, { isNestRuleWithinRule } from './nest-rule-within-rule.js';\nimport transformAtruleWithinRule, { isAtruleWithinRule } from './atrule-within-rule.js';\nimport transformAtruleWithinAtrule, { isAtruleWithinAtrule } from './atrule-within-atrule.js';\n\nexport default function walk(node) {\n\tnode.each((child) => {\n\t\tif (isRuleWithinRule(child)) {\n\t\t\ttransformRuleWithinRule(child);\n\t\t} else if (isNestRuleWithinRule(child)) {\n\t\t\ttransformNestRuleWithinRule(child, walk);\n\t\t} else if (isAtruleWithinRule(child)) {\n\t\t\ttransformAtruleWithinRule(child, walk);\n\t\t} else if (isAtruleWithinAtrule(child)) {\n\t\t\ttransformAtruleWithinAtrule(child);\n\t\t}\n\n\t\tif (Object(child.nodes).length) {\n\t\t\twalk(child);\n\t\t}\n\t});\n}\n","import walk from './lib/walk.js';\n\n/**\n * @returns {import('postcss').Plugin}\n */\nexport default function postcssNesting() {\n\treturn {\n\t\tpostcssPlugin: 'postcss-nesting',\n\t\tRule(rule) {\n\t\t\twalk(rule);\n\t\t},\n\t};\n}\n\npostcssNesting.postcss = true;\n"],"names":["shiftNodesBeforeParent","node","parent","index","cloneBefore","removeAll","append","nodes","slice","before","cleanupParent","length","remove","exports","unesc","gobbleHex","str","lower","toLowerCase","hex","spaceTerminated","i","undefined","code","charCodeAt","valid","codePoint","parseInt","isSurrogate","String","fromCodePoint","CONTAINS_ESCAPE","needToProcess","test","ret","gobbled","module","default","getProp","obj","_len","arguments","props","Array","_key","prop","shift","ensureObject","stripComments","s","commentStart","indexOf","lastEnd","commentEnd","util","_unesc","_interopRequireDefault","require$$0","_getProp","require$$1","_ensureObject","require$$2","_stripComments","require$$3","__esModule","_util","_defineProperties","target","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","Constructor","protoProps","staticProps","prototype","cloneNode","cloned","constructor","hasOwnProperty","value","type","map","j","Node","opts","assign","spaces","after","_proto","removeChild","replaceWith","insertBefore","next","at","prev","clone","overrides","name","appendToPropertyAndEscape","valueEscaped","raws","originalValue","originalEscaped","setPropertyAndEscape","setPropertyWithoutEscape","isAtPosition","line","column","source","start","end","stringifyProperty","valueToString","toString","rawSpaceBefore","rawSpaceAfter","join","get","rawSpace","set","raw","types","TAG","STRING","SELECTOR","ROOT","PSEUDO","NESTING","ID","COMMENT","COMBINATOR","CLASS","ATTRIBUTE","UNIVERSAL","_node","_interopRequireWildcard","_getRequireWildcardCache","WeakMap","cache","has","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","call","desc","_createForOfIteratorHelperLoose","o","allowArrayLike","it","Symbol","iterator","isArray","_unsupportedIterableToArray","done","TypeError","bind","minLen","_arrayLikeToArray","n","from","arr","len","arr2","_inheritsLoose","subClass","superClass","create","_setPrototypeOf","p","setPrototypeOf","__proto__","Container","_Node","_this","selector","push","prepend","unshift","child","splice","id","indexes","_iterator","_step","empty","insertAfter","oldNode","newNode","oldIndex","_findChildAtPosition","col","found","each","atPosition","foundChild","_inferEndPosition","last","callback","lastEach","result","walk","walkAttributes","_this2","walkClasses","_this3","walkCombinators","_this4","walkComments","_this5","walkIds","_this6","walkNesting","_this7","walkPseudos","_this8","walkTags","_this9","walkUniversals","_this10","split","_this11","current","reduce","memo","every","some","filter","sort","_container","_types","Root","_Container","trailingComma","error","message","options","_error","Error","handler","Selector","object","merge","defaults","regexAnySingleEscape","regexSingleEscape","regexExcessiveSpaces","cssesc","string","quotes","quote","isIdentifier","firstChar","charAt","output","counter","character","extra","toUpperCase","escapeEverything","replace","$0","$1","$2","wrap","version","cssesc_1","_cssesc","ClassName","_constructed","_value","v","escaped","Comment","Namespace","apply","qualifiedName","namespace","namespaceString","_namespace","ns","Tag","_Namespace","Pseudo","params","browser","deprecate","fn","msg","config","warned","deprecated","console","trace","warn","global","localStorage","_","val","unescapeValue","_CSSESC_QUOTE_OPTIONS","require$$4","WRAPPED_IN_QUOTES","warnOfDeprecatedValueAssignment","warnOfDeprecatedQuotedAssignment","warnOfDeprecatedConstructor","deprecatedUsage","quoteMark","unescaped","m","match","handleDeprecatedContructorOpts","_unescapeValue","Attribute","getQuotedValue","_determineQuoteMark","cssescopts","CSSESC_QUOTE_OPTIONS","smart","smartQuoteMark","preferredQuoteMark","setValue","_quoteMark","_syncRawValue","numSingleQuotes","numDoubleQuotes","NO_QUOTE","pref","DOUBLE_QUOTE","quoteValue","SINGLE_QUOTE","preferCurrentQuoteMark","rawValue","_handleEscapes","_spacesFor","attrSpaces","rawSpaces","_stringFor","spaceName","concat","defaultAttrConcat","offsetOf","count","attributeSpaces","operatorSpaces","operator","valueSpaces","insensitiveSpaces","insensitive","attrValue","quoted","qm","attribute","_unescapeValue2","_attribute","Universal","Combinator","Nesting","sortAscending","list","a","b","tokenTypes","ampersand","asterisk","comma","colon","semicolon","openParenthesis","closeParenthesis","openSquare","closeSquare","dollar","tilde","caret","plus","equals","pipe","greaterThan","space","singleQuote","doubleQuote","slash","bang","backslash","cr","feed","newline","tab","comment","word","combinator","tokenize","t","_unescapable","_wordDelimiters","unescapable","wordDelimiters","hexChars","consumeWord","css","consumeEscape","hexDigits","FIELDS","TYPE","START_LINE","START_COL","END_LINE","END_COL","START_POS","END_POS","input","tokens","valueOf","_css","offset","content","endColumn","endLine","escapePos","lines","nextLine","nextOffset","tokenType","unclosed","what","fix","safe","_root","_selector","_className","_comment","_id","_tag","require$$5","_string","require$$6","_pseudo","require$$7","require$$8","_universal","require$$9","_combinator","require$$10","_nesting","require$$11","_sortAscending","require$$12","_tokenize","require$$13","require$$14","require$$15","require$$16","_WHITESPACE_TOKENS","_Object$assign","WHITESPACE_TOKENS","WHITESPACE_EQUIV_TOKENS","tokenStart","token","tokenEnd","getSource","startLine","startColumn","getTokenSource","getTokenSourceSpan","startToken","endToken","unescapeProp","indexesOf","array","item","uniqs","Parser","rule","lossy","position","_errorGenerator","rootSource","root","errorGenerator","loop","errorOptions","attr","startingToken","currToken","expected","sourceIndex","pos","spaceBefore","commentBefore","lastAdded","spaceAfterMeaningfulToken","prevContent","existingComment","oldRawValue","_rawValue","_unescaped","_oldRawValue","oldValue","insensitiveFlag","lastComment","rawLastComment","lastValue","rawLastValue","parseWhitespaceEquivalentTokens","stopPosition","startPosition","firstToken","lastToken","convertWhitespaceNodesToSpace","requiredSpace","forEach","lossySpace","isNamedCombinator","namedCombinator","nameRaw","unexpected","nextSigTokenPos","locateNextMeaningfulToken","_this$convertWhitespa","spaceOrDescendantSelectorNodes","_this$convertWhitespa2","_space","_rawSpace","_this$convertWhitespa3","_space2","_rawSpace2","endsWith","startsWith","optionalSpace","missingBackslash","missingParenthesis","missingSquareBracket","prevToken","nextToken","universal","nesting","nextContent","parentheses","unbalanced","parse","parenStart","parenValue","parenEnd","parseParenthesisToken","pseudo","pseudoStr","splitWord","first","firstCallback","lastIndexOf","hasClass","escapedDot","isKeyframesPercent","hasId","interpolations","hashIndex","indices","ind","classNameOpts","idOpts","tagOpts","throwOnParenthesis","description","pop","an","required","searchPosition","_parser","Processor","func","noop","funcRes","_shouldUpdateSelector","merged","updateSelector","_isLossy","lossless","parser","_parseOptions","_run","Promise","resolve","reject","then","transform","e","_runSync","ast","astSync","transformSync","process","processSync","constructors","className","tag","guards","isNode","isPseudoElement","isPseudoClass","isContainer","isNamespace","_IS_TYPE","IS_TYPE","isNodeType","isAttribute","isClassName","isCombinator","isComment","isNesting","isPseudo","isRoot","isSelector","isString","isTag","isUniversal","keys","_constructors","_guards","_processor","selectors","processor","_default","mergeSelectors","fromSelectors","toSelectors","complexFromSelector","fromSelectorIsList","fromSelectorAST","fromSelectorWithIsAST","fromSelectorCounterAST","x","toSelector","firstPrecedingNonCombinatorNode","transformRuleWithinRule","areSameRule","isRuleWithinRule","trim","escape","letter","transformNestRuleWithinRule","isNestRuleWithinRule","atruleWithinRule","isAtruleWithinRule","validAtrules","includes","mergeParams","fromParams","toParams","params1","params2","transformAtruleWithinAtrule","isAtruleWithinAtrule","transformAtruleWithinRule","postcssNesting","postcssPlugin","Rule","postcss"],"mappings":"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"}